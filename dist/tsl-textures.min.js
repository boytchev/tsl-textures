/*! TSL Textures v3.0.0 */
import{Fn as e,vec3 as a,sub as t,transformNormalToView as o,cross as n,remap as s,pow as r,mul as l,log2 as i,min as m,max as u,float as c,add as d,If as p,select as y,sin as v,cos as f,rotate as g,smoothstep as b,mx_fractal_noise_float as w,mix as V,mx_noise_float as h,time as x,positionGeometry as k,or as z,acos as L,clamp as A,exp as R,normalLocal as M,tangentLocal as $,int as S,Loop as P,oneMinus as C,abs as I,equirectUV as T,screenSize as W,exp2 as E,div as B,round as _,remapClamp as q,screenUV as N,sqrt as D,mat2 as F,mod as G,distance as j,radians as Y,matcapUV as U,mx_worley_noise_float as H,sign as J,tan as O,floor as K,screenCoordinate as X,reciprocal as Z,vec2 as Q,mx_worley_noise_vec2 as ee,mx_fractal_noise_vec3 as ae,mx_worley_noise_vec3 as te}from"three/tsl";export{mx_fractal_noise_float as fractal,mx_fractal_noise_vec3 as fractal3,mx_noise_float as noise,mx_worley_noise_float as voronoi,mx_worley_noise_vec2 as voronoi2,mx_worley_noise_vec3 as voronoi3}from"three/tsl";import{Color as oe,Vector3 as ne,Vector2 as se}from"three";const re=e((([e])=>e.dot(a(12.9898,78.233,-97.5123)).sin().mul(43758.5453).fract().mul(2).sub(1))).setLayout({name:"vnoise",type:"float",inputs:[{name:"v",type:"vec3"}]}),le=e((([e,a,s])=>{var r=t(a,e),l=t(s,e);return o(n(r,l).normalize())})).setLayout({name:"approximateNormal",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"posU",type:"vec3"},{name:"posV",type:"vec3"}]}),ie=e((([e,a,t,o,n])=>(e=s(e,a,t,0,1),e=r(2,l(e,i(n.div(o))).add(i(o)))))).setLayout({name:"remapExp",type:"float",inputs:[{name:"x",type:"float"},{name:"fromMin",type:"float"},{name:"fromMax",type:"float"},{name:"toMin",type:"float"},{name:"toMax",type:"float"}]});var me=null,ue=10;async function ce(){if(null!=navigator.gpu&&await navigator.gpu.requestAdapter())return;(me=document.createElement("div")).innerHTML='\n\t<div style="font-size:1.25em; font-weight:bold;">PLEASE, WAIT</div>\n\t<div  style="font-size:0.85em; font-weight:100;" >NO WEBGPU &mdash; TRYING WEBGL2</div>\n\t<div id="counter"></div>\n\t',me.style.left="calc(50% - 8em)",me.style.width="16em",me.style.fontFamily="Bahnschrifts, Arial",me.style.position="absolute",me.style.bottom="20px",me.style.padding="12px 6px",me.style.border="1px solid white",me.style.borderRadius="4px",me.style.background="rgba(0,0,0,0.5)",me.style.color="white",me.style.textAlign="center",me.style.opacity="0.8",me.style.outline="none",me.style.zIndex="999",document.body.appendChild(me)}function de(){me&&(ue>0?ue--:(me.style.display="none",me=null))}const pe=e((([e,a,o,n])=>{var s=n.add(e.mul(12)).mod(12),r=a.mul(m(o,t(1,o)));return o.sub(r.mul(u(-1,m(m(s.sub(3),t(9,s)),1))))})).setLayout({name:"hslHelper",type:"float",inputs:[{name:"h",type:"float"},{name:"s",type:"float"},{name:"l",type:"float"},{name:"n",type:"float"}]}),ye=e((([e])=>{var t=e.x.fract().add(1).fract(),o=e.y.clamp(0,1),n=e.z.clamp(0,1),s=pe(t,o,n,0),r=pe(t,o,n,8),l=pe(t,o,n,4);return a(s,r,l)})).setLayout({name:"hsl",type:"vec3",inputs:[{name:"col",type:"vec3"}]}),ve=e((([e])=>{var o=c(e.x).toVar(),n=c(e.y).toVar(),s=c(e.z).toVar(),r=u(o,u(n,s)).toVar(),l=m(o,m(n,s)).toVar(),i=c(0).toVar(),v=c(0).toVar(),f=d(r,l).div(2);return p(l.notEqual(r),(()=>{const e=t(r,l).toVar();v.assign(y(f.lessThanEqual(.5),e.div(d(l,r)),e.div(t(2,d(l,r))))),p(r.equal(o),(()=>{i.assign(t(n,s).div(e).add(y(n.lessThanEqual(s),6,0)))})).ElseIf(r.equal(n),(()=>{i.assign(t(s,o).div(e).add(2))})).Else((()=>{i.assign(t(o,n).div(e).add(4))})),i.divAssign(6)})),a(i,v,f)}));ve.setLayout({name:"toHsl",type:"vec3",inputs:[{name:"rgb",type:"vec3"}]});const fe=e((([e,t])=>a(v(t).mul(v(e)),f(e),f(t).mul(v(e))))).setLayout({name:"spherical",type:"vec3",inputs:[{name:"phi",type:"float"},{name:"theta",type:"float"}]}),ge=e((([e,a,t])=>g(e.sub(a),t).add(a))).setLayout({name:"rotatePivot",type:"vec3",inputs:[{name:"vector",type:"vec3"},{name:"pivot",type:"vec3"},{name:"angle",type:"vec3"}]}),be=e((([e,a,t,o])=>{var n=fe(a.x,a.y).mul(o).toVar(),s=t.sub(n.div(2)).sub(e).dot(n).div(n.dot(n)).negate();return b(0,1,s)})).setLayout({name:"selectPlanar",type:"float",inputs:[{name:"pos",type:"vec3"},{name:"selAngles",type:"vec2"},{name:"selCenter",type:"vec3"},{name:"selWidth",type:"float"}]});var we={$name:"Brain",position:k,scale:2,smooth:.5,wave:.5,speed:2.5,time:x,color:new oe(16765136),background:new oe(5242880),seed:0},Ve=e((([e,a,t,o,n,s])=>{var r=e.mul(a.div(3).exp()).add(s).toVar("pos"),l=t.oneMinus().mul(2).exp().toVar("octaves"),i=w(r.mul(5),l).add(1).div(2).clamp(0,1).pow(2);return V(o,n,i)})).setLayout({name:"brainRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"xsmooth",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]}),he=e((([e,t,o,n,s,r,l])=>{var i=e.mul(t.div(3).exp()).add(l).toVar("pos"),m=o.oneMinus().mul(2).exp().toVar("octaves");const u=.01;var c=w(i.mul(5),m).toVar("n"),d=w(i.add(a(u,0,0)).mul(5),m).sub(c).div(u).toVar("dx"),p=w(i.add(a(0,u,0)).mul(5),m).sub(c).div(u).toVar("dy"),y=h(i.mul(n,5)).add(1).div(2).mul(6.28).toVar("dTime");return a(d,p,r.mul(s).add(y).sin().add(c,1)).normalize()})).setLayout({name:"brainNormalRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"xsmooth",type:"float"},{name:"wave",type:"float"},{name:"speed",type:"float"},{name:"time",type:"float"},{name:"seed",type:"float"}]});function xe(e={}){var{position:a,scale:t,smooth:o,color:n,background:s,seed:r}={...we,...e};return Ve(a,t,o,n,s,r)}xe.normal=function(e={}){var{position:a,scale:t,smooth:o,wave:n,speed:s,time:r,seed:l}={...we,...e};return he(a,t,o,n,s,r,l)},xe.defaults=we;var ke={$name:"Camouflage",position:k,scale:2,colorA:new oe(12762792),colorB:new oe(10258782),colorC:new oe(9610101),colorD:new oe(7435617),seed:0},ze=e((([e,a,t,o,n,s,r])=>{var l=e.mul(a.exp()).add(r).toVar("pos"),i=s.toVar("color");return p(h(l).greaterThanEqual(.3),(()=>{i.assign(t)})).ElseIf(h(l.yzx).greaterThanEqual(.2),(()=>{i.assign(o)})).ElseIf(h(l.zxy).greaterThanEqual(.1),(()=>{i.assign(n)})),i})).setLayout({name:"camouflageRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"colorA",type:"vec3"},{name:"colorB",type:"vec3"},{name:"colorC",type:"vec3"},{name:"colorD",type:"vec3"},{name:"seed",type:"float"}]});function Le(e={}){var{position:a,scale:t,colorA:o,colorB:n,colorC:s,colorD:r,seed:l}={...ke,...e};return ze(a,t,o,n,s,r,l)}Le.defaults=ke;var Ae={$name:"Cave art",position:k,scale:2,thinness:2,noise:.3,color:new oe(13845829),background:new oe(16775408),seed:0},Re=e((([e,a,t,o,n,s,r])=>{var l=e.mul(a.exp()).add(r).toVar("pos");t=c(3).sub(t).exp();var i=h(l,4).sin().toVar("k1"),m=h(l.mul(1.5),4).cos().toVar("k2"),u=t.sub(i.add(m).abs().pow2().mul(20)).toVar("k");return p(z(i.greaterThan(m),u.lessThan(0)),(()=>{u.assign(0)})),p(u.lessThanEqual(0),(()=>{u.assign(o.mul(h(l.mul(30)).pow2()))})),V(s,n,u)})).setLayout({name:"caveArtRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"thinness",type:"float"},{name:"xnoise",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Me(e={}){var{position:a,scale:t,thinness:o,noise:n,color:s,background:r,seed:l}={...Ae,...e};return Re(a,t,o,n,s,r,l)}Me.defaults=Ae;var $e={$name:"Circles",position:k,scale:2,variety:1,color:new oe(15786192),seed:0},Se=e((([e,t,o,n,s])=>{for(var r=e.toVar(),l=L(A(r.y,-1,1)).mul(20).div(3e3).mul(R(t.sub(1))),i=s.sin().mul(100).toVar(),m=0;m<=10;m++)i.addAssign(v(l.mul(2**m).sub(Math.PI*m/2)).mul(-m*(m+1)/2));i.assign(i.div(200).clamp(-2,2));var u=ve(n),c=u.x.add(i.mul(o)).mod(1).mul(10),d=c.floor(),p=c.sub(d);return p=y(p.lessThan(.5),p.pow(1.5),p.pow(1/1.5)),ye(a(d.add(p).div(10),u.yz))})).setLayout({name:"circlesRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"variety",type:"float"},{name:"color",type:"vec3"},{name:"seed",type:"float"}]});function Pe(e={}){var{position:a,scale:t,variety:o,color:n,seed:s}={...$e,...e};return Se(a,t,o,n,s)}Pe.defaults=$e;var Ce={$name:"Clouds",position:k,scale:2,density:.5,opacity:1,color:new oe(16777215),subcolor:new oe(10526896),seed:0},Ie=e((([e,a,t,o])=>{const n=e.mul(R(a.div(1.5).sub(.5))).add(o).toVar("pos");return w(n,4).add(t.remap(0,1,-.5,1.5))})).setLayout({name:"cloud_core",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"seed",type:"float"}]}),Te=e((([e,a,t,o,n,s])=>{var r=Ie(e,a,t,s);return V(n,o,r.clamp(0,1))})).setLayout({name:"cloudsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"color",type:"vec3"},{name:"subcolor",type:"vec3"},{name:"seed",type:"float"}]}),We=e((([e,a,t,o,n])=>{var s=Ie(e,a,t,n);return A(0,1,l(s,2).pow(1.5).sub(1).mul(o))})).setLayout({name:"cloudsOpacityRaw",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"opacity",type:"float"},{name:"seed",type:"float"}]});function Ee(e={}){var{position:a,scale:t,density:o,color:n,subcolor:s,seed:r}={...Ce,...e};return Te(a,t,o,n,s,r)}Ee.opacity=function(e={}){var{position:a,scale:t,density:o,opacity:n,seed:s}={...Ce,...e};return We(a,t,o,n,s)},Ee.defaults=Ce;var Be={$name:"Concrete",$normalNode:!0,position:k,scale:2,density:.5,bump:.5,seed:0},_e=e((([e,a,t])=>{var o=h(e,.5,.5).abs().pow(t);return e.add(a.mul(o))})).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"density",type:"float"}]}),qe=e((([e,t,o,r,l,i,m])=>{var u=a(1,2,3).mul(m).sin().mul(100).toVar("seed3d"),c=e.mul(R(r.div(2).add(2))).add(u).toVar("xposition"),d=t.normalize().toVar("xnormal"),p=o.normalize().mul(.001).toVar("xtangent"),y=n(d,p).normalize().mul(.001).toVar("xbitangent"),v=s(l,0,1,10,.5).toVar("xdensity");d.mulAssign(i);var f=_e(c,d,v).toVar("pos"),g=_e(c.add(p),d,v).toVar("posU"),b=_e(c.add(y),d,v).toVar("posV");return le(f,g,b)})).setLayout({name:"concreteRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"tangent",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"bump",type:"float"},{name:"seed",type:"float"}]});function Ne(e={}){var{position:a,scale:t,density:o,bump:n,seed:s}={...Be,...e};return qe(a,M,$,t,o,n,s)}Ne.defaults=Be;var De={$name:"Cork",position:k,scale:1,straight:1,noise:.3,color:new oe(16773312),background:new oe(13664352),seed:0},Fe=e((([e,t,o,n,s,r,l])=>{var i=e.mul(R(t.div(1.5).add(1))).add(l).toVar("pos"),m=i.round().toConst("midCell"),u=m.toVar("minCell"),d=c(1).toVar("minDist"),y=a().toVar("cell"),v=c().toVar("dist"),f=o.exp().reciprocal().toVar("strtaightness"),g=S(0).toVar("i"),b=S(0).toVar("j"),w=S(0).toVar("k");P(3,3,3,(()=>{y.assign(m.add(a(g,b,w).sub(1)));var e=y.add(re(y));v.assign(i.distance(e)),v.addAssign(h(i.add(y),f)),p(v.lessThan(d),(()=>{d.assign(v),u.assign(y)}))}));var x=h(u.mul(Math.PI),.5,.5).toVar("n"),k=h(i.mul(12)).toVar("r");return k.mulAssign(k,k),k.addAssign(h(i.mul(40),1/3)),V(s,r,x.add(k.mul(n)))})).setLayout({name:"camouflageRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"straight",type:"float"},{name:"xnoise",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Ge(e={}){var{position:a,scale:t,straight:o,noise:n,color:s,background:r,seed:l}={...De,...e};return Fe(a,t,o,n,s,r,l)}Ge.defaults=De;var je={$name:"Dalmatian spots",$width:260,position:k,scale:2,density:.6,color:new oe(16777215),background:new oe(0),seed:0},Ye=e((([e,a,t,o,n,s])=>{var r=e.mul(a.exp()).add(s).sub(1e3).toVar("pos"),l=c(1).toVar("k"),i=c(1.5).sub(t).mul(2).toVar("d"),m=t.mul(5).add(5).toVar("count");return P(m,(()=>{l.mulAssign(h(r).abs().pow(i).mul(100).sub(50).clamp(0,1).oneMinus()),r.assign(r.mul(1.01)),l.mulAssign(h(r.yzx).abs().pow(i).mul(100).sub(50).clamp(0,1).oneMinus()),r.assign(r.mul(1.01)),l.mulAssign(h(r.zxy).abs().pow(i).mul(100).sub(50).clamp(0,1).oneMinus()),r.assign(r.mul(1.01))})),V(n,o,l.clamp(0,1))})).setLayout({name:"dalmatianSpotsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Ue(e={}){var{position:a,scale:t,density:o,color:n,background:s,seed:r}={...je,...e};return Ye(a,t,o,n,s,r)}Ue.defaults=je;var He={$name:"Darth Maul",position:k,scale:2,shift:new ne(0,0,0),complexity:0,angle:60,distance:1.9,color:new oe(15745088),background:new oe(0),balance:0,seed:0},Je=e((([e,t,o,n,s,r,l,i,m,u])=>{var c=e.add(o).mul(R(t.div(1.5).sub(1))).sub(o).mul(a(1,.5,.5)).toVar(),d=y(e.y.mul(s.radians().cos()).add(e.z.mul(s.radians().sin())).greaterThan(r),1,0);c.x.assign(c.x.add(o.x).abs()),c.y.addAssign(u),c.z.mulAssign(o.z);var p=h(c).toVar(),v=p.sin().mul(p.mul(n.mul(2).add(1).exp()).sin()).remap(0,.2,1,-1).greaterThan(m).select(0,1),f=y(c.x.greaterThan(h(c.mul(2.3)).abs().mul(.5).add(.02)),1,0);return V(i,l,v.mul(d).mul(f).clamp(0,1))})).setLayout({name:"darthMaulRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"shift",type:"vec3"},{name:"complexity",type:"float"},{name:"angle",type:"float"},{name:"distance",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"balance",type:"float"},{name:"seed",type:"float"}]});function Oe(e={}){var{position:a,scale:t,shift:o,complexity:n,angle:s,distance:r,color:l,background:i,balance:m,seed:u}={...He,...e};return Je(a,t,o,n,s,r,l,i,m,u)}Oe.defaults=He;var Ke={$name:"Dyson sphere",position:k,scale:2,complexity:2,variation:0,color:new oe(12636415),background:new oe(0),seed:0},Xe=e((([e])=>{var t=e.mul(5**.5).fract().toVar();return t.addAssign(t.dot(t.add(a(31.4159,27.1828,14.142)))),t.z.mul(t.x.add(t.y)).fract().mul(2).sub(1)})).setLayout({name:"noisea",type:"float",inputs:[{name:"pos",type:"vec3"}]}),Ze=e((([e])=>{var a=e.oneMinus().clamp(0,1).toVar();return a.mul(a).mul(c(3).sub(a.mul(2)))})).setLayout({name:"smoother",type:"float",inputs:[{name:"x",type:"float"}]}),Qe=e((([e])=>{var t=e.x.floor().toVar(),o=t.add(1).toVar(),n=e.y.floor().toVar(),s=n.add(1).toVar(),r=e.z.floor().toVar(),l=r.add(1).toVar(),i=Ze(e.x.fract()).toVar(),m=Ze(e.y.fract()).toVar(),u=Ze(e.z.fract()).toVar(),c=Ze(i.oneMinus()).toVar(),d=Ze(m.oneMinus()).toVar(),p=Ze(u.oneMinus()).toVar(),y=Xe(a(t,n,r)).mul(c).mul(d).mul(p).toVar(),v=Xe(a(t,n,l)).mul(c).mul(d).mul(u).toVar(),f=Xe(a(t,s,r)).mul(c).mul(m).mul(p).toVar(),g=Xe(a(t,s,l)).mul(c).mul(m).mul(u).toVar(),b=Xe(a(o,n,r)).mul(i).mul(d).mul(p).toVar(),w=Xe(a(o,n,l)).mul(i).mul(d).mul(u).toVar(),V=Xe(a(o,s,r)).mul(i).mul(m).mul(p).toVar(),h=Xe(a(o,s,l)).mul(i).mul(m).mul(u).toVar();return y.add(v).add(f).add(g).add(b).add(w).add(V).add(h)})).setLayout({name:"noiseg",type:"float",inputs:[{name:"pos",type:"vec3"}]}),ea=e((([e,t,o,n,s,r])=>{var l=e.mul(R(t.div(2).add(.5))).add(r).toVar(),i=a().toVar(),m=c(1).toVar();return P(o.add(4),(()=>{i.addAssign(Qe(l.mul(m))),m.addAssign(m)})),V(s,n,i.x.add(1).div(5))})).setLayout({name:"dysonSphereRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"complexity",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function aa(e={}){var{position:a,scale:t,complexity:o,color:n,background:s,seed:r}={...Ke,...e};return ea(a,t,o,n,s,r)}aa.defaults=Ke;var ta={$name:"Entangled",position:k,scale:2,density:10,color:new oe(8256),background:new oe(16777215),seed:0},oa=e((([e,a,t,o,n,s])=>{var i=R(a.div(2)).toVar(),m=e.add(s).toVar(),d=c(-1e4).toVar(),p=c(0).toVar();return P(t,(()=>{p.assign(v(h(l(m,i)).mul(3*Math.PI))),d.assign(u(d,p)),i.mulAssign(1.2)})),d.assign(C(r(I(d),5)).mul(6)),V(o,n,d)})).setLayout({name:"entangled",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"int"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function na(e={}){var{position:a,scale:t,density:o,color:n,background:s,seed:r}={...ta,...e};return oa(a,t,o,n,s,r)}na.defaults=ta;var sa={$name:"Fordite",position:k,scale:2,color:new oe(0,0,0),seed:0},ra=e((([e,t,o,n])=>{var s=e.mul(R(t)).add(n).toVar(),r=h(a(h(s,1),h(s,2),h(s,3))).toVar();return ye(a(r,1,v(l(r,Math.PI,4)).mul(.5).add(.5))).add(o)})).setLayout({name:"forditeRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"color",type:"vec3"},{name:"seed",type:"float"}]});function la(e={}){var{position:a,scale:t,color:o,seed:n}={...sa,...e};return ra(a,t,o,n)}la.defaults=sa;var ia={$name:"Gas giant",position:k,scale:2,turbulence:.3,blur:.6,colorA:new oe(16775408),colorB:new oe(15788208),colorC:new oe(11509968),seed:0},ma=e((([e,t,o,n,s,r,l,i])=>{var m=t.div(2).add(1).toVar(),u=e.mul(R(m)).add(i).toVar(),c=o.mul(h(a(0,u.y.mul(.5),0).add(1)).add(h(a(0,u.y.mul(1),0).add(1)).mul(.5),h(a(1,u.y.mul(2),1).add(1)).mul(.25))).mul(5).abs().toVar(),d=h(u.div(4)).add(1).div(2).pow(10).mul(10).smoothstep(0,1);u.addAssign(a(h(u),h(u.yxz),h(u.yzx)).mul(c.mul(d.mul(2).exp())));var p=n.pow(.2).oneMinus().mul(c.add(1)).toVar(),y=h(u.mul(a(0,m,0)));y=(y=y.add(h(u.mul(a(1,15,1))).mul(p))).add(-.5).smoothstep(-1,1).oneMinus();var v=h(a(0,u.y.mul(.75),0)).add(1),f=ve(V(r,s,v)),g=ye(a(f.x.add(h(u.mul(a(0,m,0))).div(4)),f.yz)).toVar();return g.assign(V(g,l,c.mul(.3))),g.mul(y)})).setLayout({name:"gasGiantRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"turbulence",type:"float"},{name:"blur",type:"float"},{name:"colorA",type:"vec3"},{name:"colorB",type:"vec3"},{name:"colorC",type:"vec3"},{name:"seed",type:"float"}]});function ua(e={}){var{position:a,scale:t,turbulence:o,blur:n,colorA:s,colorB:r,colorC:l,seed:i}={...ia,...e};return ma(a,t,o,n,s,r,l,i)}ua.defaults=ia;var ca={$name:"Grid",$replaceExportUVS:N,$replaceExportASP:W.x.div(W.y).log2(),uvs:T(k.normalize()),countU:32,countV:16,aspect:1,thinness:.8,equirectangular:!0,color:new oe(0),background:new oe(16777215)},da=e((([e,a,o,n,s,i,c,p])=>{var y=u(E(n),1),f=l(e.x,y,Math.PI).toVar(),g=l(e.y,Math.PI).toVar(),w=B(_(l(e.x,a)),a),h=B(_(l(e.y,o)),o),x=l(w,y,Math.PI),k=l(h,Math.PI),z=I(t(f,x)).mul(V(1,v(g),i)),L=I(t(g,k)),A=m(z,L),R=l(m(B(y.mul(Math.PI),a),B(Math.PI,o)),q(r(s,.5),0,1,.9,.04),.5),M=C(b(t(R,.002),d(R,.002),A));return V(p,c,M)})).setLayout({name:"gridRaw",type:"vec3",inputs:[{name:"uvs",type:"vec2"},{name:"countU",type:"float"},{name:"countV",type:"float"},{name:"aspect",type:"float"},{name:"thinness",type:"float"},{name:"equirectangular",type:"int"},{name:"color",type:"vec3"},{name:"background",type:"vec3"}]});function pa(e={}){var{uvs:a,countU:t,countV:o,aspect:n,thinness:s,equirectangular:r,color:l,background:i}={...ca,...e};return da(a,t,o,n,s,r,l,i)}pa.defaults=ca;var ya={$name:"Isolines",position:k,scale:2,density:40,blur:.3,thinness:.6,color:new oe(16777215),background:new oe(0),seed:0},va=e((([e,a,o,n,s,r,l,i])=>{var m=e.mul(R(a)).add(i).toVar(),u=h(m,o);return u=C(v(u)).div(2),u=b(t(s,n),d(s,n),u),V(r,l,u)})).setLayout({name:"isolinesRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"blur",type:"float"},{name:"thinness",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function fa(e={}){var{position:a,scale:t,density:o,blur:n,thinness:s,color:r,background:l,seed:i}={...ya,...e};return va(a,t,o,n,s,r,l,i)}fa.defaults=ya;var ga={$name:"Karst rock",position:k,scale:2,color:new oe(16774384),background:new oe(13684944),seed:0},ba=e((([e,a,t,o,n])=>{var s=e.mul(R(a)).add(n.sin().mul(5)).toVar(),r=s.add(h(s.mul(2))).toVar(),l=h(r).div(h(r.mul(1.01))).clamp(0,2).toVar();return l.addAssign(h(s.mul(100)).div(3)),l.addAssign(h(s.mul(2)).div(2)),V(o,t,l).mul(l.pow(.1))})).setLayout({name:"karstRockRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function wa(e={}){var{position:a,scale:t,color:o,background:n,seed:s}={...ga,...e};return ba(a,t,o,n,s)}wa.defaults=ga;var Va={$name:"Marble",position:k,scale:1.2,thinness:5,noise:.3,color:new oe(4539859),background:new oe(15792383),seed:0},ha=e((([e,a,t,o,n,s,i])=>{var m=e.mul(R(a)).add(i).toVar(),u=d(h(m),h(m.mul(2)).mul(.5),h(m.mul(6)).mul(.1)),c=(u=C(u.abs().pow(2.5)).toVar(),C(r(.5,t.add(7))).toVar()),y=C(r(.5,t.add(7).mul(.5))).toVar();return p(u.greaterThan(c),(()=>{u.assign(1)})).ElseIf(u.lessThan(y),(()=>{u.assign(0)})).Else((()=>{var e=u.sub(y),a=c.sub(y);u.assign(r(B(e,a),5).mul(.75)),u.assign(u.mul(d(.5,h(m.mul(2)).mul(1.5))))})),u.assign(u.add(l(o,h(m.mul(150)).abs().pow3()))),V(s,n,u)})).setLayout({name:"marbleRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"thinness",type:"float"},{name:"xnoise",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function xa(e={}){var{position:a,scale:t,thinness:o,noise:n,color:s,background:r,seed:l}={...Va,...e};return ha(a,t,o,n,s,r,l)}xa.defaults=Va;var ka={$name:"Neon Lights",position:k,scale:2,thinness:.8,mode:0,colorA:new oe(16711680),colorB:new oe(65280),colorC:new oe(255),background:new oe(0),seed:0},za=e((([e,t,o,n,s,r,l,i,m])=>{var u=e,c=R(t.remap(0,4,-2,2)).toVar(),d=R(o.remap(0,1,1.5,0)).toVar(),p=i.toVar(),v=a(0).toVar(),f=h(u.xyz).toVar(),g=h(u.yzx).toVar(),b=h(u.zxy).toVar(),w=h(a(f,g,b).mul(c).add(m)).toVar();w.assign(C(D(I(w))).pow(3)),v.assign(s);var V=ve(v);v.assign(ye(a(V.xy,V.z.mul(w)))),p.addAssign(y(n.equal(0),v,v.negate()).mul(d)),w.assign(h(a(g,b,f).mul(c).sub(m))),w.assign(C(D(I(w))).pow(3)),v.assign(r);V=ve(v);v.assign(ye(a(V.xy,V.z.mul(w)))),p.addAssign(y(n.equal(0),v,v.negate()).mul(d)),w.assign(h(a(b,f,g.negate()).mul(c).add(m))),w.assign(C(D(I(w))).pow(3)),v.assign(l);V=ve(v);return v.assign(ye(a(V.xy,V.z.mul(w)))),p.addAssign(y(n.equal(0),v,v.negate()).mul(d)),p})).setLayout({name:"neonLightsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"thinness",type:"float"},{name:"node",type:"float"},{name:"colorA",type:"vec3"},{name:"colorB",type:"vec3"},{name:"colorC",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function La(e={}){var{position:a,scale:t,thinness:o,mode:n,colorA:s,colorB:r,colorC:l,background:i,seed:m}={...ka,...e};return za(a,t,o,n,s,r,l,i,m)}La.defaults=ka;var Aa={$name:"Perlin noise",position:k,scale:2,balance:0,contrast:0,color:new oe(16777215),background:new oe(0),seed:0},Ra=e((([e,a,t,o,n,s,r])=>{var l=e.mul(R(a)).add(r),i=A(0,1,h(l).mul(.5,R(o)).add(.5,t));return V(s,n,i)})).setLayout({name:"perlinNoiseRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"balance",type:"float"},{name:"contrast",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Ma(e={}){var{position:a,scale:t,balance:o,contrast:n,color:s,background:r,seed:l}={...Aa,...e};return Ra(a,t,o,n,s,r,l)}Ma.defaults=Aa;var $a={$name:"Photosphere",position:k,scale:2,color:new oe(16776960),background:new oe(16711680),seed:0},Sa=e((([e,t,o,n,s])=>{var r=R(t.add(1)).toVar(),l=e.toVar(),i=a(l).toVar();P(6,(()=>{i.assign(g(i,l.mul(r))),r.mulAssign(s.mul(r).sin().mul(.05).add(1.1))}));var m=h(i).add(1).div(2);return V(n,o,m)})).setLayout({name:"photosphereRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Pa(e={}){var{position:a,scale:t,color:o,background:n,seed:s}={...$a,...e};return Sa(a,t,o,n,s)}Pa.defaults=$a;var Ca={$name:"Planet",position:k,scale:2,iterations:5,levelSea:.3,levelMountain:.7,balanceWater:.3,balanceSand:.2,balanceSnow:.8,colorDeep:new oe(1194585).convertLinearToSRGB(),colorShallow:new oe(8900331).convertLinearToSRGB(),colorBeach:new oe(16775885).convertLinearToSRGB(),colorGrass:new oe(3978097).convertLinearToSRGB(),colorForest:new oe(12288).convertLinearToSRGB(),colorSnow:new oe(15794175).convertLinearToSRGB(),seed:0},Ia=e((([e,t,o,n,r,i,m,u,d,y,v,f,g,w,x])=>{var k=c(0).toVar(),z=c(0).toVar(),L=R(t.sub(2)).toVar(),A=c(2).toVar();P(o.add(10),(()=>{k.addAssign(l(A,h(e.mul(L).add(x)))),z.addAssign(A),L.mulAssign(1.5),A.mulAssign(.8)})),k.assign(l(k,k,.5).div(z));n=n.pow(2).toVar(),r=r.pow(2).toVar();var M=V(n,r,m).toVar(),$=V(n,M,.4).toVar(),S=V(n,M,.6).toVar(),C=a().toVar();return p(k.lessThan(n),(()=>{C.assign(V(d,y,s(k,0,n,0,1).pow(R(i.mul(-8).add(4)))))})).ElseIf(k.lessThan($),(()=>{C.assign(V(y,v,s(k,n,$)))})).ElseIf(k.lessThan(S),(()=>{C.assign(v)})).ElseIf(k.lessThan(M),(()=>{C.assign(V(v,f,s(k,S,M)))})).ElseIf(k.lessThan(r),(()=>{C.assign(V(f,g,s(k,M,r).pow(.75)))})).Else((()=>{var e=V(1,r,u);C.assign(V(g,w,b(V(e,r,u.pow(.5)),e,k)))})),C})).setLayout({name:"planetRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"iterations",type:"int"},{name:"levelSea",type:"float"},{name:"levelMountain",type:"float"},{name:"balanceWater",type:"float"},{name:"balanceSand",type:"float"},{name:"balanceSnow",type:"float"},{name:"colorDeep",type:"vec3"},{name:"colorShallow",type:"vec3"},{name:"colorBeach",type:"vec3"},{name:"colorGrass",type:"vec3"},{name:"colorForest",type:"vec3"},{name:"colorSnow",type:"vec3"},{name:"seed",type:"float"}]});function Ta(e={}){var{position:a,scale:t,iterations:o,levelSea:n,levelMountain:s,balanceWater:r,balanceSand:l,balanceSnow:i,colorDeep:m,colorShallow:u,colorBeach:c,colorGrass:d,colorForest:p,colorSnow:y,seed:v}={...Ca,...e};return Ia(a,t,o,n,s,r,l,i,m,u,c,d,p,y,v)}Ta.defaults=Ca;var Wa={$name:"Polka dots",position:k,count:2,size:.5,blur:.25,color:new oe(0),background:new oe(16777215),flat:0},Ea=(1+5**.5)/2,Ba=e((([e,a,t,o,n,s,i])=>{var y=c(1).toVar();p(i.equal(1),(()=>{var t=a.pow(2).sub(.5).toVar(),o=e.xy.mul(t).mul(F(1,1,-1,1)),n=o.round().toVar();y.assign(o.distance(n).div(t))})).Else((()=>{var t=r(10,a).toVar(),o=e.normalize().toVar(),n=C(o.y).mul(t).sub(1).div(2),s=u(10,t.pow(.5)),i=n.sub(s).floor().clamp(0,t),p=n.add(s).floor().clamp(0,t);y.assign(1).toVar(),P(p.sub(i),(({i:e})=>{var a=d(e,i),n=G(l(2*Math.PI/Ea,a),2*Math.PI),s=L(C(c(a).mul(2).add(1).div(t))),r=fe(s,n);y.assign(m(y,j(o,r)))}))}));var v=R(t.mul(5).sub(5)).toVar(),f=o.pow(4).toVar(),g=b(v.sub(f),v.add(f),y);return V(n,s,g)})).setLayout({name:"polkaDotsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"count",type:"float"},{name:"size",type:"float"},{name:"blur",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"xflat",type:"int"}]});function _a(e={}){var{position:a,count:t,size:o,blur:n,color:s,background:r,flat:l}={...Wa,...e};return Ba(a,t,o,n,s,r,l)}_a.defaults=Wa;var qa={$name:"Processed wood",$width:260,position:k,scale:2,lengths:4,strength:.3,angle:0,color:new oe(7348256),background:new oe(15782048),seed:0},Na=e((([e,o,n,s,r,l,i,m])=>{r=Y(r).toVar();var u=a(t(e.x.mul(f(r)),e.y.mul(v(r))),d(e.x.mul(v(r)),e.y.mul(f(r))),e.z).toVar(),c=o.div(2).add(1).toVar(),p=u.mul(R(o)).add(m).toVar(),y=n.add(5).reciprocal().toVar(),g=h(p.mul(c,a(1,y,y)));return g=(g=g.mul(h(p.mul(a(25,1,1))).add(-1).mul(.2))).add(s.sub(.5)).smoothstep(-.3,.3).oneMinus(),V(l,i,g)})).setLayout({name:"processedWoodRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"lengths",type:"float"},{name:"strength",type:"float"},{name:"angle",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Da(e={}){var{position:a,scale:t,lengths:o,strength:n,angle:s,color:r,background:l,seed:i}={...qa,...e};return Na(a,t,o,n,s,r,l,i)}Da.defaults=qa;var Fa={$name:"Protozoa",position:k,matcap:U,scale:1.5,fat:.7,amount:.4,color:new oe(10526880),subcolor:new oe(14739711),background:new oe(15792383),seed:0},Ga=e((([e,a])=>h(e).mul(a).clamp(-3.14,3.14).cos().add(1).div(2))).setLayout({name:"pnoise",type:"float",inputs:[{name:"pos",type:"vec3"},{name:"fat",type:"float"}]}),ja=e((([e,t,o,n,s,r,l,i,m])=>{var u=e.mul(R(o.sub(1))).add(m).toVar(),d=a(t,t.length()).toVar(),p=c(0).toVar(),y=c(0).toVar(),v=c(0).toVar(),f=c(0).toVar(),g=(n=n.add(.2).oneMinus().mul(60).add(30).toVar(),c(2).toVar()),b=s.div(2).add(.5).exp().toVar();return P(10,(()=>{p.assign(Ga(u.xyz.add(d),n)),y.assign(Ga(u.yzx.add(d),n)),v.addAssign(p.mul(y).mul(g)),f.addAssign(p.max(y).mul(g)),u.assign(V(u.mul(b),0,.4)),o.mulAssign(.9)})),V(i,V(r,l,f.mul(.1)),v)})).setLayout({name:"protozoaRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"matcap",type:"vec2"},{name:"scale",type:"float"},{name:"fat",type:"float"},{name:"amount",type:"float"},{name:"color",type:"vec3"},{name:"subcolor",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Ya(e={}){var{position:a,matcap:t,scale:o,fat:n,amount:s,color:r,subcolor:l,background:i,seed:m}={...Fa,...e};return ja(a,t,o,n,s,r,l,i,m)}Ya.defaults=Fa;var Ua={$name:"Rotator",$positionNode:!0,$selectorPlanar:!0,angles:new ne(-.2,.7,0),center:new ne(0,0,0),selectorCenter:new ne(0,0,0),selectorAngles:new se(0,0),selectorWidth:2},Ha=e((([e,a,t,o,n,s])=>{var r=be(e,o,n,s);return ge(e,t,a.mul(r))})).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"angles",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),Ja=e((([e,a,t,o,n])=>Ha(k,e,a,t,o,n))).setLayout({name:"rotatorRaw",type:"vec3",inputs:[{name:"angles",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),Oa=e((([e,a,t,o,s])=>{var r=k,l=M.normalize().toVar(),i=$.normalize().mul(.01).toVar(),m=n(l,i).normalize().mul(.01).toVar(),u=Ha(r,e,a,t,o,s),c=Ha(r.add(i),e,a,t,o,s),d=Ha(r.add(m),e,a,t,o,s);return le(u,c,d)})).setLayout({name:"rotatorNormalRaw",type:"vec3",inputs:[{name:"angles",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]});function Ka(e={}){var{angles:a,center:t,selectorAngles:o,selectorCenter:n,selectorWidth:s}={...Ua,...e};return Ja(a,t,o,n,s)}Ka.normal=function(e={}){var{angles:a,center:t,selectorAngles:o,selectorCenter:n,selectorWidth:s}={...Ua,...e};return Oa(a,t,o,n,s)},Ka.defaults=Ua;var Xa={$name:"Rough clay",$normalNode:!0,position:k,scale:2,bump:.5,curvature:.2,seed:0},Za=e((([e,a,t])=>{var o=H(e.add(h(e).mul(t))).add(.8).pow(5).toVar();return o.addAssign(o.pow(.5)),e.add(a.mul(o))})).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"curvature",type:"float"}]}),Qa=e((([e,a,t,o,s,r,l])=>{var i=e.mul(R(o.div(2))).add(l.sin().mul(10)).toVar(),m=a.normalize().toVar(),u=t.normalize().mul(.001).toVar(),c=n(m,u).normalize().mul(.001).toVar();m.mulAssign(s,.02);var d=Za(i,m,r),p=Za(i.add(u),m,r),y=Za(i.add(c),m,r);return le(d,p,y)})).setLayout({name:"concreteRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"tangent",type:"vec3"},{name:"scale",type:"float"},{name:"bump",type:"float"},{name:"curvature",type:"float"},{name:"seed",type:"float"}]});function et(e={}){var{position:a,scale:t,bump:o,curvature:n,seed:s}={...Xa,...e};return Qa(a,M,$,t,o,n,s)}et.defaults=Xa;var at={$name:"Runny eggs",position:k,scale:1,sizeYolk:.2,sizeWhite:.7,colorYolk:new oe("orange"),colorWhite:new oe("white"),colorBackground:new oe("lightgray"),seed:0},tt=e((([e,a,t,o])=>{var n=H(e).toVar(),s=n.add(o).pow(8).oneMinus(),r=n.add(t).pow(18).oneMinus().clamp(0,1),l=V(0,V(0,1,r),s);return e.add(a.mul(l))})).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"normal",type:"vec3"},{name:"sizeYolk",type:"float"},{name:"sizeWhite",type:"float"}]}),ot=e((([e,a,t,o,n,s,r,l])=>{var i=e.mul(R(a)).add(l.sin().mul(10)).toVar(),m=H(i).toVar(),u=m.add(o.oneMinus()).pow(8).oneMinus().clamp(-.5,1),c=m.add(t.oneMinus()).pow(18).oneMinus().clamp(0,1).pow(.4).clamp(0,1);return V(r,V(s,n,c),u)})).setLayout({name:"runnyEggsRaw",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"normal",type:"vec3"},{name:"sizeYolk",type:"float"},{name:"sizeWhite",type:"float"},{name:"colorYolk",type:"vec3"},{name:"colorWhite",type:"vec3"},{name:"colorBackground",type:"vec3"},{name:"seed",type:"float"}]}),nt=e((([e,a,t,o,s,r,l])=>{var i=e.mul(R(o)).add(l.sin().mul(10)).toVar(),m=a.normalize().toVar(),u=t.normalize().mul(.001).toVar(),c=n(m,u).normalize().mul(.001).toVar(),d=s.oneMinus(),p=r.oneMinus();m.mulAssign(.05);var y=tt(i,m,d,p),v=tt(i.add(u),m,d,p),f=tt(i.add(c),m,d,p);return le(y,v,f)})).setLayout({name:"runnyEggsNormalRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"tangent",type:"vec3"},{name:"scale",type:"float"},{name:"sizeYolk",type:"float"},{name:"sizeWhite",type:"float"},{name:"seed",type:"float"}]}),st=e((([e,a,t,o])=>{var n=e.mul(R(a)).add(o.sin().mul(10)).toVar();return H(n).toVar().add(t.oneMinus()).pow(18).clamp(0,1)})).setLayout({name:"runnyEggsRoughnessRaw",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"sizeYolk",type:"float"},{name:"seed",type:"float"}]});function rt(e={}){var{position:a,scale:t,sizeYolk:o,sizeWhite:n,colorYolk:s,colorWhite:r,colorBackground:l,seed:i}={...at,...e};return ot(a,t,o,n,s,r,l,i)}rt.normal=function(e={}){var{position:a,scale:t,sizeYolk:o,sizeWhite:n,seed:s}={...at,...e};return nt(a,M,$,t,o,n,s)},rt.roughness=function(e={}){var{position:a,scale:t,sizeYolk:o,seed:n}={...at,...e};return st(a,t,o,n)},rt.defaults=at;var lt={$name:"rust",position:k,scale:2,iterations:8,amount:-.3,opacity:.5,noise:.5,noiseScale:.5,color:new oe(12615680),background:new oe(32),seed:0},it=e((([e,a,t,o,n])=>{var s=e.mul(R(a.div(4).add(-1))).add(n).toVar(),r=o.mul(h(s.mul(o.div(2).add(4))).add(4)).toVar(),l=h(s).toVar();return P(t,(()=>{s.mulAssign(2),l.addAssign(h(s))})),l.subAssign(h(s.mul(2)).abs()),l.assign(l.sub(r).clamp(0,15)),l})).setLayout({name:"_rust",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"iterations",type:"int"},{name:"amount",type:"float"},{name:"seed",type:"float"}]}),mt=e((([e,a,t,o,n,s,r,l,i])=>{var m=it(e,a,t,o,i).mul(1.25).pow(.5),u=e.mul(R(a.add(s.mul(3),2)));return m.addAssign(n.mul(h(u).abs().add(.1).pow(2))),V(r,l,m)})).setLayout({name:"rustRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"iterations",type:"int"},{name:"amount",type:"float"},{name:"xnoise",type:"float"},{name:"noiseScale",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]}),ut=e((([e,a,t,o,n,s])=>it(e,a,t,o,s).mul(n.add(.2)).oneMinus())).setLayout({name:"rustOpacityRaw",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"iterations",type:"int"},{name:"amount",type:"float"},{name:"opacity",type:"float"},{name:"seed",type:"float"}]});function ct(e={}){var{position:a,scale:t,iterations:o,amount:n,noise:s,noiseScale:r,color:l,background:i,seed:m}={...lt,...e};return mt(a,t,o,n,s,r,l,i,m)}ct.opacity=function(e={}){var{position:a,scale:t,iterations:o,amount:n,opacity:s,seed:r}={...lt,...e};return ut(a,t,o,n,s,r)},ct.defaults=lt;var dt={$name:"Satin",position:k,scale:2,color:new oe(7373055),background:new oe(80),seed:0},pt=e((([e,t,o,n,s])=>{var r=e.toVar("pos"),l=(t=t.div(3).exp().toVar("xscale"),h(a(h(a(r.x.mul(2),r.y,r.z).mul(t)),h(a(r.x,r.y.mul(2),r.z).mul(t)),h(a(r.x,r.y,r.z.mul(2)).mul(t))).mul(t).add(s)).abs().pow(3).mul(20).toVar("k"));return V(n,o,l)})).setLayout({name:"satinRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function yt(e={}){var{position:a,scale:t,color:o,background:n,seed:s}={...dt,...e};return pt(a,t,o,n,s)}yt.defaults=dt;var vt={$name:"Scaler",$positionNode:!0,$selectorPlanar:!0,scales:new ne(.01,.9,1.7),center:new ne(0,0,0),selectorCenter:new ne(0,0,0),selectorAngles:new se(0,0),selectorWidth:2},ft=e((([e,t,o,n,s,r])=>{var l=be(e,n,s,r),i=V(a(1,1,1),t,l);return e.sub(o).mul(i).add(o)})),gt=e((([e,a,t,o,n])=>ft(k,e,a,t,o,n))).setLayout({name:"scalerRaw",type:"vec3",inputs:[{name:"scales",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),bt=e((([e,a,t,o,s])=>{var r=k,l=M.normalize().toVar(),i=$.normalize().mul(.01).toVar(),m=n(l,i).normalize().mul(.01).toVar(),u=ft(r,e,a,t,o,s),c=ft(r.add(i),e,a,t,o,s),d=ft(r.add(m),e,a,t,o,s);return le(u,c,d)})).setLayout({name:"scalerNormalRaw",type:"vec3",inputs:[{name:"scales",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]});function wt(e={}){var{scales:a,center:t,selectorAngles:o,selectorCenter:n,selectorWidth:s}={...vt,...e};return gt(a,t,o,n,s)}wt.normal=function(e={}){var{scales:a,center:t,selectorAngles:o,selectorCenter:n,selectorWidth:s}={...vt,...e};return bt(a,t,o,n,s)},wt.defaults=vt;var Vt={$name:"Scepter head",position:k,xFactor:10,yFactor:22,zFactor:10,colorRim:new oe(16777215),colorA:new oe(7397631),colorB:new oe(3145983)},ht=e((([e,t,o,n,s,r,i])=>{var m=e.toVar("pos"),c=m.x.mul(ie(t,0,100,1.35,30)).toVar("fx"),p=m.y.mul(ie(o,0,100,1.35,30)).toVar("fy"),y=m.z.mul(ie(n,0,100,1.35,30)).toVar("fz"),v=f(c),g=f(p),b=f(y),w=h(a(m.x.div(v),m.y.div(g),m.z.div(b)));w=J(w).mul(I(w).pow(.75));var x=I(l(c,O(c)).add(1).div(v)),k=I(l(p,O(p)).add(1).div(g)),z=I(l(y,O(y)).add(1).div(b)),L=a().toVar(),A=I(K(c.mul(2/Math.PI).add(1).div(2))),R=I(K(p.mul(2/Math.PI).add(1).div(2))),M=I(K(y.mul(2/Math.PI).add(1).div(2))),$=G(d(A,R,M),2);L.assign(ve(V(r,i,$)));var S=ye(a(L.xy,L.z.mul(w))).toVar("color1");L.assign(ve(s));var P=ye(a(L.xy,l(2,w,L.z))).toVar("color2");return V(S,P,q(u(x,u(k,z)),45,65))})).setLayout({name:"scepterHeadRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"xFactor",type:"float"},{name:"yFactor",type:"float"},{name:"zFactor",type:"float"},{name:"colorRim",type:"vec3"},{name:"colorA",type:"vec3"},{name:"colorB",type:"vec3"}]});function xt(e={}){var{position:a,xFactor:t,yFactor:o,zFactor:n,colorRim:s,colorA:r,colorB:l}={...Vt,...e};return ht(a,t,o,n,s,r,l)}xt.defaults=Vt;var kt={$name:"Scream",position:k,scale:2,variety:1,color:new oe(15790176),background:new oe(13668496),seed:0},zt=e((([e,t,o,n,s,r])=>{var l=e.mul(R(t)).add(r).toVar("pos"),i=h(d(v(l.xyz),f(l.yzx)));l.assign(e.mul(R(t).mul(i)).add(r));i=h(d(v(l.xyz),f(l.yzx)).mul(2));var m=V(s,n,i).toVar("col"),u=ve(m).toVar("HSL");return ye(a(d(u.x,o.mul(v(i.mul(Math.PI))).mul(.5)),u.yz))})).setLayout({name:"satinRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"variety",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Lt(e={}){var{position:a,scale:t,variety:o,color:n,background:s,seed:r}={...kt,...e};return zt(a,t,o,n,s,r)}Lt.defaults=kt;var At={$name:"Stars",position:k,scale:2,density:2,variation:0,color:new oe(16774640),background:new oe(96),seed:0},Rt=e((([e,t,o,n,s,r,l])=>{var i=e.mul(R(t.div(2).add(3))).add(l).toVar(),m=I(h(i)).pow(10).mul(10);m=m.mul(R(o.sub(2)));var u=y(m.greaterThan(.1),n.mul(h(i)),0),c=ve(V(r,s,m));return ye(a(d(c.x,u),c.yz))})).setLayout({name:"starsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"variation",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Mt(e={}){var{position:a,scale:t,density:o,variation:n,color:s,background:r,seed:l}={...At,...e};return Rt(a,t,o,n,s,r,l)}Mt.defaults=At;var $t={$name:"Static noise",position:X,time:x,scale:2,balance:0,contrast:0,delay:0,seed:0},St=e((([e,t,o,n,s,r,l])=>{var i=e.div(R(o)).add(l),m=r.sub(1).mul(5).exp(),u=t.div(m).round().mul(m),c=re(u.sin()).mul(1e3),d=A(0,1,h(i.add(c)));return d=d.mul(.5,R(s)).add(.5,n),a(d)})).setLayout({name:"staticNoiseRaw",type:"vec3",inputs:[{name:"position",type:"vec2"},{name:"time",type:"float"},{name:"scale",type:"float"},{name:"balance",type:"float"},{name:"contrast",type:"float"},{name:"delay",type:"float"},{name:"seed",type:"float"}]});function Pt(e={}){var{position:a,time:t,scale:o,balance:n,contrast:s,delay:r,seed:l}={...$t,...e};return St(a,t,o,n,s,r,l)}Pt.defaults=$t;var Ct={$name:"Supersphere",$positionNode:!0,exponent:3},It=e((([e,a])=>{var t=c(2).pow(a),o=e.div(e.length()).toVar(),n=o.abs().pow(t).toVar(),s=n.x.add(n.y).add(n.z).pow(t.reciprocal());return o.div(s)})).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"exponent",type:"float"}]}),Tt=e((([e])=>It(k,e))).setLayout({name:"supersphereRaw",type:"vec3",inputs:[{name:"exponent",type:"float"}]}),Wt=e((([e])=>{var a=k,t=M.normalize().toVar(),o=$.normalize().mul(.01).toVar(),s=n(t,o).normalize().mul(.01).toVar(),r=It(a,e),l=It(a.add(o),e),i=It(a.add(s),e);return le(r,l,i)})).setLayout({name:"supersphereRaw",type:"vec3",inputs:[{name:"exponent",type:"float"}]});function Et(e={}){var{exponent:a}={...Ct,...e};return Tt(a)}Et.normal=function(e={}){var{exponent:a}={...Ct,...e};return Wt(a)},Et.defaults=Ct;var Bt={$name:"Tiger fur",position:k,scale:2,lengths:4,blur:.3,strength:.3,hairs:.5,color:new oe(16755200),bottomColor:new oe(16777198),seed:0},_t=e((([e,t,o,n,s,r,l,i,m])=>{var u=t.div(2).add(1).toVar(),c=e.mul(R(u)).add(m).toVar(),d=o.add(5).reciprocal().toVar(),p=(r=r.mul(.3).toVar(),h(c.mul(u,a(1,d,d))));p=(p=p.add(h(c.mul(a(25,1,1))).add(1).mul(r))).add(s.sub(.5)).smoothstep(n.negate(),n).oneMinus();var y=e.y.add(r.sub(.5)).smoothstep(-1,.5);return V(i,l,y).mul(p)})).setLayout({name:"tigerFurRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"lengths",type:"float"},{name:"blur",type:"float"},{name:"strength",type:"float"},{name:"hairs",type:"float"},{name:"color",type:"vec3"},{name:"bottomColor",type:"vec3"},{name:"seed",type:"float"}]});function qt(e={}){var{position:a,scale:t,lengths:o,blur:n,strength:s,hairs:r,color:l,bottomColor:i,seed:m}={...Bt,...e};return _t(a,t,o,n,s,r,l,i,m)}qt.defaults=Bt;var Nt={$name:"Translator",$positionNode:!0,$selectorPlanar:!0,distance:new ne(-.5,0,.2),selectorCenter:new ne(0,0,0),selectorAngles:new se(0,0),selectorWidth:.7},Dt=e((([e,a,t,o,n])=>{var s=be(e,t,o,n);return e.add(a.mul(s))})).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"distance",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),Ft=e((([e,a,t,o])=>Dt(k,e,a,t,o))).setLayout({name:"translatorRaw",type:"vec3",inputs:[{name:"distance",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),Gt=e((([e,a,t,o])=>{var s=k,r=M.normalize().toVar(),l=$.normalize().mul(.01).toVar(),i=n(r,l).normalize().mul(.01).toVar(),m=Dt(s,e,a,t,o),u=Dt(s.add(l),e,a,t,o),c=Dt(s.add(i),e,a,t,o);return le(m,u,c)})).setLayout({name:"translatorNormalRaw",type:"vec3",inputs:[{name:"distance",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]});function jt(e={}){var{distance:a,selectorAngles:t,selectorCenter:o,selectorWidth:n}={...Nt,...e};return Ft(a,t,o,n)}jt.normal=function(e={}){var{distance:a,selectorAngles:t,selectorCenter:o,selectorWidth:n}={...Nt,...e};return Gt(a,t,o,n)},jt.defaults=Nt;var Yt={$name:"Voronoi cells",position:k,scale:2,variation:0,facet:0,color:new oe(0),background:new oe(12636415),seed:0},Ut=e((([e,t,o,n,s,r,l])=>{var i=e.mul(R(t.div(2).add(.5))).add(l).toVar(),m=i.round().toVar(),u=m.toVar(),d=c(1).toVar(),y=a().toVar(),v=c().toVar(),f=S(0).toVar("i"),g=S(0).toVar("j"),b=S(0).toVar("k");P(3,3,3,(()=>{y.assign(m.add(a(f,g,b).sub(1)));var e=y.add(re(y.mul(2*Math.PI)).div(2));v.assign(i.distance(e)),p(v.lessThan(d),(()=>{d.assign(v),u.assign(y)}))}));var w=h(u.mul(Math.PI)).toVar(),x=V(d,w.add(1).div(2),n),k=(s=V(s,r,x).toVar(),a(w.mul(16.8),w.mul(31.4159),w.mul(27.1828)).sin().add(1).div(2));return V(s,V(s,k,o),o)})).setLayout({name:"voronoiCellsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"variation",type:"float"},{name:"facet",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Ht(e={}){var{position:a,scale:t,variation:o,facet:n,color:s,background:r,seed:l}={...Yt,...e};return Ut(a,t,o,n,s,r,l)}Ht.defaults=Yt;var Jt={$name:"Water Drops",$normalNode:!0,position:k,scale:1.4,density:.5,bump:.6,seed:0},Ot=e((([e,a,t])=>{var o=h(e,1,t).clamp(0,1);return o=f(o.mul(Math.PI)).add(1).pow(.5).toVar(),e.add(a.mul(o))})).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"density",type:"float"}]}),Kt=e((([e,t,o,r,l,i,m])=>{var u=a(1,2,3).mul(m).sin().mul(100).toVar(),c=e.mul(R(r.div(1).add(1))).add(u).toVar(),d=t.normalize().toVar(),p=o.normalize().mul(.001).toVar(),y=n(d,p).normalize().mul(.001).toVar(),v=s(l,0,1,1.5,.7).toVar();d.mulAssign(i);var f=Ot(c,d,v),g=Ot(c.add(p),d,v),b=Ot(c.add(y),d,v);return le(f,g,b)})).setLayout({name:"waterDropsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"tangent",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"bump",type:"float"},{name:"seed",type:"float"}]});function Xt(e={}){var{position:a,scale:t,density:o,bump:n,seed:s}={...Jt,...e};return Kt(a,M,$,t,o,n,s)}Xt.defaults=Jt;var Zt={$name:"Watermelon",$replaceExportUVS:N,position:k,uvs:T(k.normalize()),scale:2,stripes:12,variation:.5,noise:.25,color:new oe("yellowgreen"),background:new oe("darkgreen"),seed:0},Qt=e((([e,t,o,n,s,r,l,i,m])=>{var u=e.mul(R(o.div(4).add(2))).add(m).toVar(),c=t.x.mul(n,2*Math.PI).add(h(u.mul(a(1,.3,1))).mul(2)).sin().add(.5).div(2).mul(t.y.remap(0,1,-Math.PI,Math.PI).cos().add(1.2).clamp(0,1)).add(s.mul(2,h(u.mul(1.5)).div(2))).add(s.mul(2,h(u.mul(4)).div(6))).toVar();return c.assign(c.mix(c.round(),.75).add(h(u.mul(2)).mul(r,.5)).add(h(u.mul(3)).mul(r,1)).add(h(u.mul(15)).mul(r,.2)).clamp(0,1)),l=V(i,l,c).toVar()})).setLayout({name:"watermelonRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"uvs",type:"vec2"},{name:"scale",type:"float"},{name:"stripes",type:"int"},{name:"variation",type:"float"},{name:"xnoise",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function eo(e={}){var{position:a,uvs:t,scale:o,stripes:n,variation:s,noise:r,color:l,background:i,seed:m}={...Zt,...e};return Qt(a,t,o,n,s,r,l,i,m)}eo.defaults=Zt;var ao={$name:"Wood",position:k,scale:2.5,rings:4.5,lengths:1,angle:0,fibers:.3,fibersDensity:10,color:new oe(.8,.4,0),background:new oe(.4,.1,0),seed:0},to=e((([e,o,n,s,r,i,m,u,p,y])=>{r=Y(r).toVar();var g=a(t(e.x.mul(f(r)),e.y.mul(v(r))),d(e.x.mul(v(r)),e.y.mul(f(r))),e.z).toVar(),b=g.mul(R(o.sub(3)).mul(a(Z(s),4,Z(s)))).add(y).toVar(),w=h(b).add(1).mul(10).mul(n);w=w.add(w.cos()).cos().add(1).div(2);var x=c(0).toVar(),k=c(0).toVar(),z=(o=R(o.sub(2)).mul(a(1,m,1)).toVar(),c(2).toVar());return P(10,(()=>{x.addAssign(l(z,h(g.mul(o).add(y)))),k.addAssign(z),o.mulAssign(1.8),z.mulAssign(.6)})),x.assign(l(x,5).div(k).mul(10).sin().add(1).div(2)),V(u,p,V(w,x,i))})).setLayout({name:"woodRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"rings",type:"float"},{name:"lengths",type:"float"},{name:"angle",type:"float"},{name:"fibers",type:"float"},{name:"fibersDensity",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function oo(e={}){var{position:a,scale:t,rings:o,lengths:n,angle:s,fibers:r,fibersDensity:l,color:i,background:m,seed:u}={...ao,...e};return to(a,t,o,n,s,r,l,i,m,u)}oo.defaults=ao;var no={$name:"Zebra lines",position:k,scale:2,thinness:.5,phi:0,theta:0,color:new oe(0),background:new oe(16777215),flat:0},so=e((([e,a,t,o,n,s,r,l])=>{var i=y(l,e,e.normalize()).toVar(),m=y(l,Q(f(o),v(o)),fe(o,n)).toVar(),u=y(l,A(m.dot(i),-2,2),L(A(m.dot(i),-1,1))).toVar(),c=(a=R(a.add(1)).toVar(),v(u.mul(a)).sub(t.sub(.5).mul(2)));return c=A(c.mul(1e3).div(a),-1,1).mul(.5).add(.5),V(r,s,c)})).setLayout({name:"zebraLinesRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"thinness",type:"float"},{name:"phi",type:"float"},{name:"theta",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"xflat",type:"int"}]});function ro(e={}){var{position:a,scale:t,thinness:o,phi:n,theta:s,color:r,background:l,flat:i}={...no,...e};return so(a,t,o,n,s,r,l,i)}ro.defaults=no;var lo={$name:"Circle decor",position:k,scale:2,grains:.2,complexity:1,blur:.2,color:new oe(0),background:new oe(16777215),seed:0},io=e((([e,a,t,o,n,s,r,l])=>{var i=e.mul(R(a.div(4))).add(l).toVar("pos"),m=i.mul(2).toVar("subpos"),u=H(i),c=H(m),d=H(i.mul(t.mul(4).add(2))).mul(2),p=h(i).div(2).add(1),y=u.min(c,d).clamp(0,1).mul(o.add(2).exp(),p,Math.PI).sin().smoothstep(n.negate(),n);return V(s,r,y.oneMinus())})).setLayout({name:"camouflageRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"grains",type:"float"},{name:"complexity",type:"float"},{name:"blur",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function mo(e={}){var{position:a,scale:t,grains:o,complexity:n,blur:s,color:r,background:l,seed:i}={...lo,...e};return io(a,t,o,n,s,r,l,i)}mo.defaults=lo;var uo={$name:"Reticular veins",position:k,scale:2,reticulation:5,strength:.2,organelles:.2,color:new oe(16777200),background:new oe(2129952),seed:0},co=e((([e,a,t,o,n,s,r,l])=>{var i=e.mul(R(a.div(2).add(.5))).add(l).toVar(),m=H(i),u=H(i.add(100).mul(t)).mul(o),c=h(i.mul(100)).mul(o,n),d=m.add(u).add(c);return V(r,s,d)})).setLayout({name:"reticularVeinsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"reticulation",type:"float"},{name:"strength",type:"float"},{name:"organelles",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function po(e={}){var{position:a,scale:t,reticulation:o,strength:n,organelles:s,color:r,background:l,seed:i}={...uo,...e};return co(a,t,o,n,s,r,l,i)}po.defaults=uo;var yo={$name:"Roman paving",position:k,scale:2,depth:.5,seed:0},vo=e((([e,a,t,o])=>{var n=e.mul(R(a)).add(o).toVar(),s=ee(n).toVar();return s.y.sub(s.x).pow(t.mul(3).sub(3).exp()).smoothstep(0,1)})).setLayout({name:"romanPavingRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"depth",type:"float"},{name:"seed",type:"float"}]});function fo(e={}){var{position:a,scale:t,depth:o,seed:n}={...yo,...e};return vo(a,t,o,n)}fo.defaults=yo;var go={$name:"Crumpled fabric",$width:260,position:k,scale:2,pinch:.5,color:new oe(11596031),subcolor:new oe(4210928),background:new oe(12288),seed:0},bo=e((([e,t,o,n,s,r,l])=>{var i=e.mul(R(t.sub(.5))).add(l).toVar();P(4,(()=>{var e=h(i.xyz),t=h(i.yzx),n=h(i.zxy);i.addAssign(a(e,t,n).mul(o))}));var m=h(i).add(1).div(2).clamp(0,1),u=n.mul(m.mul(2).sub(1).abs().oneMinus()),c=s.mul(m).pow(2),d=r.mul(m.oneMinus().pow(2));return u.add(c).add(d)})).setLayout({name:"crumpledFabricRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"pinch",type:"float"},{name:"color",type:"vec3"},{name:"subcolor",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function wo(e={}){var{position:a,scale:t,pinch:o,color:n,subcolor:s,background:r,seed:l}={...go,...e};return bo(a,t,o,n,s,r,l)}wo.defaults=go;var Vo={$name:"Isolayers",position:k,scale:2,layers:10,edge:.5,darkness:0,color:new oe(16777200),background:new oe(16728128),seed:0},ho=e((([e,a,t,o,n,s,r,l])=>{var i=e.mul(R(a.sub(1))).add(l).toVar(),m=o.remap(0,1,40,10),u=h(i,1.2,1).div(2),d=u.mul(t).round().div(t).clamp(0,1),p=u.sub(c(.53).div(t)).mul(t).fract().mul(c(2).pow(m.reciprocal())).pow(m).sub(1).abs().oneMinus(),y=V(ve(r),ve(s),d).toVar();return y.z.mulAssign(V(1,d.mul(1.5),n).clamp(0,1)),ye(y).sub(p)})).setLayout({name:"isolayersRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"layers",type:"int"},{name:"edge",type:"float"},{name:"darkness",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function xo(e={}){var{position:a,scale:t,layers:o,edge:n,darkness:s,color:r,background:l,seed:i}={...Vo,...e};return ho(a,t,o,n,s,r,l,i)}xo.defaults=Vo;var ko={$name:"Turbulent smoke",$width:260,position:k,scale:2,speed:0,details:5,time:x,seed:0},zo=e((([e,t,o,n,s,r])=>{var l=e.mul(R(t.sub(1))).add(r).toVar(),i=s.mul(o.sub(1).exp()),m=l.add(a(w(l.add(a(1,i.sin(),-1))),w(l.add(a(i.add(2*Math.PI/3).sin(),1,-1))),w(l.add(a(1,-1,i.add(4*Math.PI/3).sin()))))),u=ae(m,n);return H(l.add(u.div(2))).pow(4).mul(4).oneMinus()})).setLayout({name:"turbulentSmokeRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"speed",type:"float"},{name:"details",type:"int"},{name:"time",type:"float"},{name:"seed",type:"float"}]});function Lo(e={}){var{position:a,scale:t,speed:o,details:n,time:s,seed:r}={...ko,...e};return zo(a,t,o,n,s,r)}Lo.defaults=ko;var Ao={$name:"Caustics",position:k,scale:2,speed:0,time:x,color:new oe(5286080),seed:0},Ro=e((([e,t,o,n,s,r])=>{var l=e.mul(R(t.sub(1))).add(r).toVar(),i=n.mul(o.sub(1).exp()).add(a(0,2*Math.PI/3,4*Math.PI/3)).sin();return te(l.add(a(H(l.add(i.xyz)),H(l.add(i.yzx)),H(l.add(i.zxy))))).length().div(Math.sqrt(3)).add(s.sub(.5).mul(2))})).setLayout({name:"causticsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"speed",type:"float"},{name:"time",type:"float"},{name:"color",type:"vec3"},{name:"seed",type:"float"}]});function Mo(e={}){var{position:a,scale:t,speed:o,time:n,color:s,seed:r}={...Ao,...e};return Ro(a,t,o,n,s,r)}Mo.defaults=Ao;var $o={$name:"Bricks",position:k,scale:2,brickSize:new ne(2,1,2),brickShift:2,jointSize:.05,jointSpan:.5,jointJitter:.5,jointBlur:.03,noiseSize:.5,noiseStrength:.2,colorShade:.5,color:new oe(16728064),additional:new oe(13672496),background:new oe(11184810),seed:0},So=e((([e,t,o,n,s,r,i,m,u,d,p,y,v,f,g])=>{var b=e.mul(R(t)).add(g).toVar(),w=o,x=b.div(w).floor().div(n),k=a(x.y,0,x.y).toVar(),z=b.div(w).fract().add(k).fract().toVar(),L=ae(b.mul(ie(r,0,1,20,.2))).div(ie(i,0,1,500,1)).toVar(),A=l(z.mul(w).add(L.z).smoothstep(w.y.sub(s,m),w.y.sub(s)).y.oneMinus(),z.mul(w).add(L.y).smoothstep(s,s.add(m)).y,z.mul(w).add(L.y).smoothstep(w.x.sub(s,m),w.x.sub(s)).x.oneMinus(),z.mul(w).add(L.x).smoothstep(s,s.add(m)).x,z.mul(w).add(L.x).smoothstep(w.z.sub(s,m),w.z.sub(s)).z.oneMinus(),z.mul(w).add(L.z).smoothstep(s,s.add(m)).z).clamp(0,1),M=V(c(1),h(h(b.xyz.div(w).add(k).floor().zxy.mul(100).add(Math.PI)).mul(10)).add(2).div(2).pow(4).clamp(0,1),p),$=h(b.mul(ie(u,0,1,5,250))).mul(d).add(1),S=h(h(b.xyz.div(w).add(k).floor().zxy.mul(200).add(Math.PI)).mul(10)).add(1).div(1),P=V(y,v,S.pow(2));return V(f,M.mul(P,A),A).mul($)})).setLayout({name:"bricksRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"brickSize",type:"vec3"},{name:"brickShift",type:"float"},{name:"jointSize",type:"float"},{name:"jointSpan",type:"float"},{name:"jointJitter",type:"float"},{name:"jointBlur",type:"float"},{name:"noiseSize",type:"float"},{name:"noiseStrength",type:"float"},{name:"colorShade",type:"float"},{name:"color",type:"vec3"},{name:"additional",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Po(e={}){var{position:a,scale:t,brickSize:o,brickShift:n,jointSize:s,jointSpan:r,jointJitter:l,jointBlur:i,noiseSize:m,noiseStrength:u,colorShade:c,color:d,additional:p,background:y,seed:v}={...$o,...e};return So(a,t,o,n,s,r,l,i,m,u,c,d,p,y,v)}Po.defaults=$o,window.__TSL_TEXTURES__=3;export{le as approximateNormal,xe as brain,Po as bricks,Le as camouflage,Mo as caustics,Me as caveArt,mo as circleDecor,Pe as circles,Ee as clouds,Ne as concrete,Ge as cork,wo as crumpledFabric,Ue as dalmatianSpots,Oe as darthMaul,aa as dysonSphere,na as entangled,la as fordite,ua as gasGiant,pa as grid,de as hideFallbackWarning,ye as hsl,xo as isolayers,fa as isolines,wa as karstRock,xa as marble,La as neonLights,Ma as perlinNoise,Pa as photosphere,Ta as planet,_a as polkaDots,Da as processedWood,Ya as protozoa,ie as remapExp,po as reticularVeins,fo as romanPaving,ge as rotatePivot,Ka as rotator,et as roughClay,rt as runnyEggs,ct as rust,yt as satin,wt as scaler,xt as scepterHead,Lt as scream,be as selectPlanar,ce as showFallbackWarning,fe as spherical,Mt as stars,Pt as staticNoise,Et as supersphere,qt as tigerFur,ve as toHsl,jt as translator,Lo as turbulentSmoke,re as vnoise,Ht as voronoiCells,Xt as waterDrops,eo as watermelon,oo as wood,ro as zebraLines};
