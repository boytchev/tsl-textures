/*! TSL Textures v3.0.0 */
"use strict";var e=require("three/tsl"),a=require("three");const o=e.Fn((([a])=>a.dot(e.vec3(12.9898,78.233,-97.5123)).sin().mul(43758.5453).fract().mul(2).sub(1))).setLayout({name:"vnoise",type:"float",inputs:[{name:"v",type:"vec3"}]}),t=e.Fn((([a,o,t])=>{var n=e.sub(o,a),s=e.sub(t,a);return e.transformNormalToView(e.cross(n,s).normalize())})).setLayout({name:"approximateNormal",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"posU",type:"vec3"},{name:"posV",type:"vec3"}]}),n=e.Fn((([a,o,t,n,s])=>(a=e.remap(a,o,t,0,1),a=e.pow(2,e.mul(a,e.log2(s.div(n))).add(e.log2(n)))))).setLayout({name:"remapExp",type:"float",inputs:[{name:"x",type:"float"},{name:"fromMin",type:"float"},{name:"fromMax",type:"float"},{name:"toMin",type:"float"},{name:"toMax",type:"float"}]});var s=null,r=10;const l=e.Fn((([a,o,t,n])=>{var s=n.add(a.mul(12)).mod(12),r=o.mul(e.min(t,e.sub(1,t)));return t.sub(r.mul(e.max(-1,e.min(e.min(s.sub(3),e.sub(9,s)),1))))})).setLayout({name:"hslHelper",type:"float",inputs:[{name:"h",type:"float"},{name:"s",type:"float"},{name:"l",type:"float"},{name:"n",type:"float"}]}),i=e.Fn((([a])=>{var o=a.x.fract().add(1).fract(),t=a.y.clamp(0,1),n=a.z.clamp(0,1),s=l(o,t,n,0),r=l(o,t,n,8),i=l(o,t,n,4);return e.vec3(s,r,i)})).setLayout({name:"hsl",type:"vec3",inputs:[{name:"col",type:"vec3"}]}),m=e.Fn((([a])=>{var o=e.float(a.x).toVar(),t=e.float(a.y).toVar(),n=e.float(a.z).toVar(),s=e.max(o,e.max(t,n)).toVar(),r=e.min(o,e.min(t,n)).toVar(),l=e.float(0).toVar(),i=e.float(0).toVar(),m=e.add(s,r).div(2);return e.If(r.notEqual(s),(()=>{const a=e.sub(s,r).toVar();i.assign(e.select(m.lessThanEqual(.5),a.div(e.add(r,s)),a.div(e.sub(2,e.add(r,s))))),e.If(s.equal(o),(()=>{l.assign(e.sub(t,n).div(a).add(e.select(t.lessThanEqual(n),6,0)))})).ElseIf(s.equal(t),(()=>{l.assign(e.sub(n,o).div(a).add(2))})).Else((()=>{l.assign(e.sub(o,t).div(a).add(4))})),l.divAssign(6)})),e.vec3(l,i,m)}));m.setLayout({name:"toHsl",type:"vec3",inputs:[{name:"rgb",type:"vec3"}]});const c=e.Fn((([a,o])=>e.vec3(e.sin(o).mul(e.sin(a)),e.cos(a),e.cos(o).mul(e.sin(a))))).setLayout({name:"spherical",type:"vec3",inputs:[{name:"phi",type:"float"},{name:"theta",type:"float"}]}),p=e.Fn((([a,o,t])=>e.rotate(a.sub(o),t).add(o))).setLayout({name:"rotatePivot",type:"vec3",inputs:[{name:"vector",type:"vec3"},{name:"pivot",type:"vec3"},{name:"angle",type:"vec3"}]}),u=e.Fn((([a,o,t,n])=>{var s=c(o.x,o.y).mul(n).toVar(),r=t.sub(s.div(2)).sub(a).dot(s).div(s.dot(s)).negate();return e.smoothstep(0,1,r)})).setLayout({name:"selectPlanar",type:"float",inputs:[{name:"pos",type:"vec3"},{name:"selAngles",type:"vec2"},{name:"selCenter",type:"vec3"},{name:"selWidth",type:"float"}]});var d={$name:"Brain",position:e.positionGeometry,scale:2,smooth:.5,wave:.5,speed:2.5,time:e.time,color:new a.Color(16765136),background:new a.Color(5242880),seed:0},y=e.Fn((([a,o,t,n,s,r])=>{var l=a.mul(o.div(3).exp()).add(r).toVar("pos"),i=t.oneMinus().mul(2).exp().toVar("octaves"),m=e.mx_fractal_noise_float(l.mul(5),i).add(1).div(2).clamp(0,1).pow(2);return e.mix(n,s,m)})).setLayout({name:"brainRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"xsmooth",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]}),v=e.Fn((([a,o,t,n,s,r,l])=>{var i=a.mul(o.div(3).exp()).add(l).toVar("pos"),m=t.oneMinus().mul(2).exp().toVar("octaves");const c=.01;var p=e.mx_fractal_noise_float(i.mul(5),m).toVar("n"),u=e.mx_fractal_noise_float(i.add(e.vec3(c,0,0)).mul(5),m).sub(p).div(c).toVar("dx"),d=e.mx_fractal_noise_float(i.add(e.vec3(0,c,0)).mul(5),m).sub(p).div(c).toVar("dy"),y=e.mx_noise_float(i.mul(n,5)).add(1).div(2).mul(6.28).toVar("dTime");return e.vec3(u,d,r.mul(s).add(y).sin().add(p,1)).normalize()})).setLayout({name:"brainNormalRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"xsmooth",type:"float"},{name:"wave",type:"float"},{name:"speed",type:"float"},{name:"time",type:"float"},{name:"seed",type:"float"}]});function f(e={}){var{position:a,scale:o,smooth:t,color:n,background:s,seed:r}={...d,...e};return y(a,o,t,n,s,r)}f.normal=function(e={}){var{position:a,scale:o,smooth:t,wave:n,speed:s,time:r,seed:l}={...d,...e};return v(a,o,t,n,s,r,l)},f.defaults=d;var x={$name:"Camouflage",position:e.positionGeometry,scale:2,colorA:new a.Color(12762792),colorB:new a.Color(10258782),colorC:new a.Color(9610101),colorD:new a.Color(7435617),seed:0},g=e.Fn((([a,o,t,n,s,r,l])=>{var i=a.mul(o.exp()).add(l).toVar("pos"),m=r.toVar("color");return e.If(e.mx_noise_float(i).greaterThanEqual(.3),(()=>{m.assign(t)})).ElseIf(e.mx_noise_float(i.yzx).greaterThanEqual(.2),(()=>{m.assign(n)})).ElseIf(e.mx_noise_float(i.zxy).greaterThanEqual(.1),(()=>{m.assign(s)})),m})).setLayout({name:"camouflageRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"colorA",type:"vec3"},{name:"colorB",type:"vec3"},{name:"colorC",type:"vec3"},{name:"colorD",type:"vec3"},{name:"seed",type:"float"}]});function b(e={}){var{position:a,scale:o,colorA:t,colorB:n,colorC:s,colorD:r,seed:l}={...x,...e};return g(a,o,t,n,s,r,l)}b.defaults=x;var _={$name:"Cave art",position:e.positionGeometry,scale:2,thinness:2,noise:.3,color:new a.Color(13845829),background:new a.Color(16775408),seed:0},w=e.Fn((([a,o,t,n,s,r,l])=>{var i=a.mul(o.exp()).add(l).toVar("pos");t=e.float(3).sub(t).exp();var m=e.mx_noise_float(i,4).sin().toVar("k1"),c=e.mx_noise_float(i.mul(1.5),4).cos().toVar("k2"),p=t.sub(m.add(c).abs().pow2().mul(20)).toVar("k");return e.If(e.or(m.greaterThan(c),p.lessThan(0)),(()=>{p.assign(0)})),e.If(p.lessThanEqual(0),(()=>{p.assign(n.mul(e.mx_noise_float(i.mul(30)).pow2()))})),e.mix(r,s,p)})).setLayout({name:"caveArtRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"thinness",type:"float"},{name:"xnoise",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function V(e={}){var{position:a,scale:o,thinness:t,noise:n,color:s,background:r,seed:l}={..._,...e};return w(a,o,t,n,s,r,l)}V.defaults=_;var h={$name:"Circles",position:e.positionGeometry,scale:2,variety:1,color:new a.Color(15786192),seed:0},k=e.Fn((([a,o,t,n,s])=>{for(var r=a.toVar(),l=e.acos(e.clamp(r.y,-1,1)).mul(20).div(3e3).mul(e.exp(o.sub(1))),c=s.sin().mul(100).toVar(),p=0;p<=10;p++)c.addAssign(e.sin(l.mul(2**p).sub(Math.PI*p/2)).mul(-p*(p+1)/2));c.assign(c.div(200).clamp(-2,2));var u=m(n),d=u.x.add(c.mul(t)).mod(1).mul(10),y=d.floor(),v=d.sub(y);return v=e.select(v.lessThan(.5),v.pow(1.5),v.pow(1/1.5)),i(e.vec3(y.add(v).div(10),u.yz))})).setLayout({name:"circlesRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"variety",type:"float"},{name:"color",type:"vec3"},{name:"seed",type:"float"}]});function C(e={}){var{position:a,scale:o,variety:t,color:n,seed:s}={...h,...e};return k(a,o,t,n,s)}C.defaults=h;var z={$name:"Clouds",position:e.positionGeometry,scale:2,density:.5,opacity:1,color:new a.Color(16777215),subcolor:new a.Color(10526896),seed:0},L=e.Fn((([a,o,t,n])=>{const s=a.mul(e.exp(o.div(1.5).sub(.5))).add(n).toVar("pos");return e.mx_fractal_noise_float(s,4).add(t.remap(0,1,-.5,1.5))})).setLayout({name:"cloud_core",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"seed",type:"float"}]}),F=e.Fn((([a,o,t,n,s,r])=>{var l=L(a,o,t,r);return e.mix(s,n,l.clamp(0,1))})).setLayout({name:"cloudsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"color",type:"vec3"},{name:"subcolor",type:"vec3"},{name:"seed",type:"float"}]}),M=e.Fn((([a,o,t,n,s])=>{var r=L(a,o,t,s);return e.clamp(0,1,e.mul(r,2).pow(1.5).sub(1).mul(n))})).setLayout({name:"cloudsOpacityRaw",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"opacity",type:"float"},{name:"seed",type:"float"}]});function A(e={}){var{position:a,scale:o,density:t,color:n,subcolor:s,seed:r}={...z,...e};return F(a,o,t,n,s,r)}A.opacity=function(e={}){var{position:a,scale:o,density:t,opacity:n,seed:s}={...z,...e};return M(a,o,t,n,s)},A.defaults=z;var R={$name:"Concrete",$normalNode:!0,position:e.positionGeometry,scale:2,density:.5,bump:.5,seed:0},G=e.Fn((([a,o,t])=>{var n=e.mx_noise_float(a,.5,.5).abs().pow(t);return a.add(o.mul(n))})).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"density",type:"float"}]}),S=e.Fn((([a,o,n,s,r,l,i])=>{var m=e.vec3(1,2,3).mul(i).sin().mul(100).toVar("seed3d"),c=a.mul(e.exp(s.div(2).add(2))).add(m).toVar("xposition"),p=o.normalize().toVar("xnormal"),u=n.normalize().mul(.001).toVar("xtangent"),d=e.cross(p,u).normalize().mul(.001).toVar("xbitangent"),y=e.remap(r,0,1,10,.5).toVar("xdensity");p.mulAssign(l);var v=G(c,p,y).toVar("pos"),f=G(c.add(u),p,y).toVar("posU"),x=G(c.add(d),p,y).toVar("posV");return t(v,f,x)})).setLayout({name:"concreteRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"tangent",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"bump",type:"float"},{name:"seed",type:"float"}]});function $(a={}){var{position:o,scale:t,density:n,bump:s,seed:r}={...R,...a};return S(o,e.normalLocal,e.tangentLocal,t,n,s,r)}$.defaults=R;var P={$name:"Cork",position:e.positionGeometry,scale:1,straight:1,noise:.3,color:new a.Color(16773312),background:new a.Color(13664352),seed:0},I=e.Fn((([a,t,n,s,r,l,i])=>{var m=a.mul(e.exp(t.div(1.5).add(1))).add(i).toVar("pos"),c=m.round().toConst("midCell"),p=c.toVar("minCell"),u=e.float(1).toVar("minDist"),d=e.vec3().toVar("cell"),y=e.float().toVar("dist"),v=n.exp().reciprocal().toVar("strtaightness"),f=e.int(0).toVar("i"),x=e.int(0).toVar("j"),g=e.int(0).toVar("k");e.Loop(3,3,3,(()=>{d.assign(c.add(e.vec3(f,x,g).sub(1)));var a=d.add(o(d));y.assign(m.distance(a)),y.addAssign(e.mx_noise_float(m.add(d),v)),e.If(y.lessThan(u),(()=>{u.assign(y),p.assign(d)}))}));var b=e.mx_noise_float(p.mul(Math.PI),.5,.5).toVar("n"),_=e.mx_noise_float(m.mul(12)).toVar("r");return _.mulAssign(_,_),_.addAssign(e.mx_noise_float(m.mul(40),1/3)),e.mix(r,l,b.add(_.mul(s)))})).setLayout({name:"camouflageRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"straight",type:"float"},{name:"xnoise",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function W(e={}){var{position:a,scale:o,straight:t,noise:n,color:s,background:r,seed:l}={...P,...e};return I(a,o,t,n,s,r,l)}W.defaults=P;var T={$name:"Dalmatian spots",$width:260,position:e.positionGeometry,scale:2,density:.6,color:new a.Color(16777215),background:new a.Color(0),seed:0},E=e.Fn((([a,o,t,n,s,r])=>{var l=a.mul(o.exp()).add(r).sub(1e3).toVar("pos"),i=e.float(1).toVar("k"),m=e.float(1.5).sub(t).mul(2).toVar("d"),c=t.mul(5).add(5).toVar("count");return e.Loop(c,(()=>{i.mulAssign(e.mx_noise_float(l).abs().pow(m).mul(100).sub(50).clamp(0,1).oneMinus()),l.assign(l.mul(1.01)),i.mulAssign(e.mx_noise_float(l.yzx).abs().pow(m).mul(100).sub(50).clamp(0,1).oneMinus()),l.assign(l.mul(1.01)),i.mulAssign(e.mx_noise_float(l.zxy).abs().pow(m).mul(100).sub(50).clamp(0,1).oneMinus()),l.assign(l.mul(1.01))})),e.mix(s,n,i.clamp(0,1))})).setLayout({name:"dalmatianSpotsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function B(e={}){var{position:a,scale:o,density:t,color:n,background:s,seed:r}={...T,...e};return E(a,o,t,n,s,r)}B.defaults=T;var q={$name:"Darth Maul",position:e.positionGeometry,scale:2,shift:new a.Vector3(0,0,0),complexity:0,angle:60,distance:1.9,color:new a.Color(15745088),background:new a.Color(0),balance:0,seed:0},N=e.Fn((([a,o,t,n,s,r,l,i,m,c])=>{var p=a.add(t).mul(e.exp(o.div(1.5).sub(1))).sub(t).mul(e.vec3(1,.5,.5)).toVar(),u=e.select(a.y.mul(s.radians().cos()).add(a.z.mul(s.radians().sin())).greaterThan(r),1,0);p.x.assign(p.x.add(t.x).abs()),p.y.addAssign(c),p.z.mulAssign(t.z);var d=e.mx_noise_float(p).toVar(),y=d.sin().mul(d.mul(n.mul(2).add(1).exp()).sin()).remap(0,.2,1,-1).greaterThan(m).select(0,1),v=e.select(p.x.greaterThan(e.mx_noise_float(p.mul(2.3)).abs().mul(.5).add(.02)),1,0);return e.mix(i,l,y.mul(u).mul(v).clamp(0,1))})).setLayout({name:"darthMaulRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"shift",type:"vec3"},{name:"complexity",type:"float"},{name:"angle",type:"float"},{name:"distance",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"balance",type:"float"},{name:"seed",type:"float"}]});function j(e={}){var{position:a,scale:o,shift:t,complexity:n,angle:s,distance:r,color:l,background:i,balance:m,seed:c}={...q,...e};return N(a,o,t,n,s,r,l,i,m,c)}j.defaults=q;var D={$name:"Dyson sphere",position:e.positionGeometry,scale:2,complexity:2,variation:0,color:new a.Color(12636415),background:new a.Color(0),seed:0},U=e.Fn((([a])=>{var o=a.mul(5**.5).fract().toVar();return o.addAssign(o.dot(o.add(e.vec3(31.4159,27.1828,14.142)))),o.z.mul(o.x.add(o.y)).fract().mul(2).sub(1)})).setLayout({name:"noisea",type:"float",inputs:[{name:"pos",type:"vec3"}]}),Y=e.Fn((([a])=>{var o=a.oneMinus().clamp(0,1).toVar();return o.mul(o).mul(e.float(3).sub(o.mul(2)))})).setLayout({name:"smoother",type:"float",inputs:[{name:"x",type:"float"}]}),O=e.Fn((([a])=>{var o=a.x.floor().toVar(),t=o.add(1).toVar(),n=a.y.floor().toVar(),s=n.add(1).toVar(),r=a.z.floor().toVar(),l=r.add(1).toVar(),i=Y(a.x.fract()).toVar(),m=Y(a.y.fract()).toVar(),c=Y(a.z.fract()).toVar(),p=Y(i.oneMinus()).toVar(),u=Y(m.oneMinus()).toVar(),d=Y(c.oneMinus()).toVar(),y=U(e.vec3(o,n,r)).mul(p).mul(u).mul(d).toVar(),v=U(e.vec3(o,n,l)).mul(p).mul(u).mul(c).toVar(),f=U(e.vec3(o,s,r)).mul(p).mul(m).mul(d).toVar(),x=U(e.vec3(o,s,l)).mul(p).mul(m).mul(c).toVar(),g=U(e.vec3(t,n,r)).mul(i).mul(u).mul(d).toVar(),b=U(e.vec3(t,n,l)).mul(i).mul(u).mul(c).toVar(),_=U(e.vec3(t,s,r)).mul(i).mul(m).mul(d).toVar(),w=U(e.vec3(t,s,l)).mul(i).mul(m).mul(c).toVar();return y.add(v).add(f).add(x).add(g).add(b).add(_).add(w)})).setLayout({name:"noiseg",type:"float",inputs:[{name:"pos",type:"vec3"}]}),H=e.Fn((([a,o,t,n,s,r])=>{var l=a.mul(e.exp(o.div(2).add(.5))).add(r).toVar(),i=e.vec3().toVar(),m=e.float(1).toVar();return e.Loop(t.add(4),(()=>{i.addAssign(O(l.mul(m))),m.addAssign(m)})),e.mix(s,n,i.x.add(1).div(5))})).setLayout({name:"dysonSphereRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"complexity",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function J(e={}){var{position:a,scale:o,complexity:t,color:n,background:s,seed:r}={...D,...e};return H(a,o,t,n,s,r)}J.defaults=D;var K={$name:"Entangled",position:e.positionGeometry,scale:2,density:10,color:new a.Color(8256),background:new a.Color(16777215),seed:0},X=e.Fn((([a,o,t,n,s,r])=>{var l=e.exp(o.div(2)).toVar(),i=a.add(r).toVar(),m=e.float(-1e4).toVar(),c=e.float(0).toVar();return e.Loop(t,(()=>{c.assign(e.sin(e.mx_noise_float(e.mul(i,l)).mul(3*Math.PI))),m.assign(e.max(m,c)),l.mulAssign(1.2)})),m.assign(e.oneMinus(e.pow(e.abs(m),5)).mul(6)),e.mix(n,s,m)})).setLayout({name:"entangled",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"int"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Z(e={}){var{position:a,scale:o,density:t,color:n,background:s,seed:r}={...K,...e};return X(a,o,t,n,s,r)}Z.defaults=K;var Q={$name:"Fordite",position:e.positionGeometry,scale:2,color:new a.Color(0,0,0),seed:0},ee=e.Fn((([a,o,t,n])=>{var s=a.mul(e.exp(o)).add(n).toVar(),r=e.mx_noise_float(e.vec3(e.mx_noise_float(s,1),e.mx_noise_float(s,2),e.mx_noise_float(s,3))).toVar();return i(e.vec3(r,1,e.sin(e.mul(r,Math.PI,4)).mul(.5).add(.5))).add(t)})).setLayout({name:"forditeRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"color",type:"vec3"},{name:"seed",type:"float"}]});function ae(e={}){var{position:a,scale:o,color:t,seed:n}={...Q,...e};return ee(a,o,t,n)}ae.defaults=Q;var oe={$name:"Gas giant",position:e.positionGeometry,scale:2,turbulence:.3,blur:.6,colorA:new a.Color(16775408),colorB:new a.Color(15788208),colorC:new a.Color(11509968),seed:0},te=e.Fn((([a,o,t,n,s,r,l,c])=>{var p=o.div(2).add(1).toVar(),u=a.mul(e.exp(p)).add(c).toVar(),d=t.mul(e.mx_noise_float(e.vec3(0,u.y.mul(.5),0).add(1)).add(e.mx_noise_float(e.vec3(0,u.y.mul(1),0).add(1)).mul(.5),e.mx_noise_float(e.vec3(1,u.y.mul(2),1).add(1)).mul(.25))).mul(5).abs().toVar(),y=e.mx_noise_float(u.div(4)).add(1).div(2).pow(10).mul(10).smoothstep(0,1);u.addAssign(e.vec3(e.mx_noise_float(u),e.mx_noise_float(u.yxz),e.mx_noise_float(u.yzx)).mul(d.mul(y.mul(2).exp())));var v=n.pow(.2).oneMinus().mul(d.add(1)).toVar(),f=e.mx_noise_float(u.mul(e.vec3(0,p,0)));f=(f=f.add(e.mx_noise_float(u.mul(e.vec3(1,15,1))).mul(v))).add(-.5).smoothstep(-1,1).oneMinus();var x=e.mx_noise_float(e.vec3(0,u.y.mul(.75),0)).add(1),g=m(e.mix(r,s,x)),b=i(e.vec3(g.x.add(e.mx_noise_float(u.mul(e.vec3(0,p,0))).div(4)),g.yz)).toVar();return b.assign(e.mix(b,l,d.mul(.3))),b.mul(f)})).setLayout({name:"gasGiantRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"turbulence",type:"float"},{name:"blur",type:"float"},{name:"colorA",type:"vec3"},{name:"colorB",type:"vec3"},{name:"colorC",type:"vec3"},{name:"seed",type:"float"}]});function ne(e={}){var{position:a,scale:o,turbulence:t,blur:n,colorA:s,colorB:r,colorC:l,seed:i}={...oe,...e};return te(a,o,t,n,s,r,l,i)}ne.defaults=oe;var se={$name:"Grid",$replaceExportUVS:e.screenUV,$replaceExportASP:e.screenSize.x.div(e.screenSize.y).log2(),uvs:e.equirectUV(e.positionGeometry.normalize()),countU:32,countV:16,aspect:1,thinness:.8,equirectangular:!0,color:new a.Color(0),background:new a.Color(16777215)},re=e.Fn((([a,o,t,n,s,r,l,i])=>{var m=e.max(e.exp2(n),1),c=e.mul(a.x,m,Math.PI).toVar(),p=e.mul(a.y,Math.PI).toVar(),u=e.div(e.round(e.mul(a.x,o)),o),d=e.div(e.round(e.mul(a.y,t)),t),y=e.mul(u,m,Math.PI),v=e.mul(d,Math.PI),f=e.abs(e.sub(c,y)).mul(e.mix(1,e.sin(p),r)),x=e.abs(e.sub(p,v)),g=e.min(f,x),b=e.mul(e.min(e.div(m.mul(Math.PI),o),e.div(Math.PI,t)),e.remapClamp(e.pow(s,.5),0,1,.9,.04),.5),_=e.oneMinus(e.smoothstep(e.sub(b,.002),e.add(b,.002),g));return e.mix(i,l,_)})).setLayout({name:"gridRaw",type:"vec3",inputs:[{name:"uvs",type:"vec2"},{name:"countU",type:"float"},{name:"countV",type:"float"},{name:"aspect",type:"float"},{name:"thinness",type:"float"},{name:"equirectangular",type:"int"},{name:"color",type:"vec3"},{name:"background",type:"vec3"}]});function le(e={}){var{uvs:a,countU:o,countV:t,aspect:n,thinness:s,equirectangular:r,color:l,background:i}={...se,...e};return re(a,o,t,n,s,r,l,i)}le.defaults=se;var ie={$name:"Isolines",position:e.positionGeometry,scale:2,density:40,blur:.3,thinness:.6,color:new a.Color(16777215),background:new a.Color(0),seed:0},me=e.Fn((([a,o,t,n,s,r,l,i])=>{var m=a.mul(e.exp(o)).add(i).toVar(),c=e.mx_noise_float(m,t);return c=e.oneMinus(e.sin(c)).div(2),c=e.smoothstep(e.sub(s,n),e.add(s,n),c),e.mix(r,l,c)})).setLayout({name:"isolinesRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"blur",type:"float"},{name:"thinness",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function ce(e={}){var{position:a,scale:o,density:t,blur:n,thinness:s,color:r,background:l,seed:i}={...ie,...e};return me(a,o,t,n,s,r,l,i)}ce.defaults=ie;var pe={$name:"Karst rock",position:e.positionGeometry,scale:2,color:new a.Color(16774384),background:new a.Color(13684944),seed:0},ue=e.Fn((([a,o,t,n,s])=>{var r=a.mul(e.exp(o)).add(s.sin().mul(5)).toVar(),l=r.add(e.mx_noise_float(r.mul(2))).toVar(),i=e.mx_noise_float(l).div(e.mx_noise_float(l.mul(1.01))).clamp(0,2).toVar();return i.addAssign(e.mx_noise_float(r.mul(100)).div(3)),i.addAssign(e.mx_noise_float(r.mul(2)).div(2)),e.mix(n,t,i).mul(i.pow(.1))})).setLayout({name:"karstRockRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function de(e={}){var{position:a,scale:o,color:t,background:n,seed:s}={...pe,...e};return ue(a,o,t,n,s)}de.defaults=pe;var ye={$name:"Marble",position:e.positionGeometry,scale:1.2,thinness:5,noise:.3,color:new a.Color(4539859),background:new a.Color(15792383),seed:0},ve=e.Fn((([a,o,t,n,s,r,l])=>{var i=a.mul(e.exp(o)).add(l).toVar(),m=e.add(e.mx_noise_float(i),e.mx_noise_float(i.mul(2)).mul(.5),e.mx_noise_float(i.mul(6)).mul(.1)),c=(m=e.oneMinus(m.abs().pow(2.5)).toVar(),e.oneMinus(e.pow(.5,t.add(7))).toVar()),p=e.oneMinus(e.pow(.5,t.add(7).mul(.5))).toVar();return e.If(m.greaterThan(c),(()=>{m.assign(1)})).ElseIf(m.lessThan(p),(()=>{m.assign(0)})).Else((()=>{var a=m.sub(p),o=c.sub(p);m.assign(e.pow(e.div(a,o),5).mul(.75)),m.assign(m.mul(e.add(.5,e.mx_noise_float(i.mul(2)).mul(1.5))))})),m.assign(m.add(e.mul(n,e.mx_noise_float(i.mul(150)).abs().pow3()))),e.mix(r,s,m)})).setLayout({name:"marbleRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"thinness",type:"float"},{name:"xnoise",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function fe(e={}){var{position:a,scale:o,thinness:t,noise:n,color:s,background:r,seed:l}={...ye,...e};return ve(a,o,t,n,s,r,l)}fe.defaults=ye;var xe={$name:"Neon Lights",position:e.positionGeometry,scale:2,thinness:.8,mode:0,colorA:new a.Color(16711680),colorB:new a.Color(65280),colorC:new a.Color(255),background:new a.Color(0),seed:0},ge=e.Fn((([a,o,t,n,s,r,l,c,p])=>{var u=a,d=e.exp(o.remap(0,4,-2,2)).toVar(),y=e.exp(t.remap(0,1,1.5,0)).toVar(),v=c.toVar(),f=e.vec3(0).toVar(),x=e.mx_noise_float(u.xyz).toVar(),g=e.mx_noise_float(u.yzx).toVar(),b=e.mx_noise_float(u.zxy).toVar(),_=e.mx_noise_float(e.vec3(x,g,b).mul(d).add(p)).toVar();_.assign(e.oneMinus(e.sqrt(e.abs(_))).pow(3)),f.assign(s);var w=m(f);f.assign(i(e.vec3(w.xy,w.z.mul(_)))),v.addAssign(e.select(n.equal(0),f,f.negate()).mul(y)),_.assign(e.mx_noise_float(e.vec3(g,b,x).mul(d).sub(p))),_.assign(e.oneMinus(e.sqrt(e.abs(_))).pow(3)),f.assign(r);w=m(f);f.assign(i(e.vec3(w.xy,w.z.mul(_)))),v.addAssign(e.select(n.equal(0),f,f.negate()).mul(y)),_.assign(e.mx_noise_float(e.vec3(b,x,g.negate()).mul(d).add(p))),_.assign(e.oneMinus(e.sqrt(e.abs(_))).pow(3)),f.assign(l);w=m(f);return f.assign(i(e.vec3(w.xy,w.z.mul(_)))),v.addAssign(e.select(n.equal(0),f,f.negate()).mul(y)),v})).setLayout({name:"neonLightsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"thinness",type:"float"},{name:"node",type:"float"},{name:"colorA",type:"vec3"},{name:"colorB",type:"vec3"},{name:"colorC",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function be(e={}){var{position:a,scale:o,thinness:t,mode:n,colorA:s,colorB:r,colorC:l,background:i,seed:m}={...xe,...e};return ge(a,o,t,n,s,r,l,i,m)}be.defaults=xe;var _e={$name:"Perlin noise",position:e.positionGeometry,scale:2,balance:0,contrast:0,color:new a.Color(16777215),background:new a.Color(0),seed:0},we=e.Fn((([a,o,t,n,s,r,l])=>{var i=a.mul(e.exp(o)).add(l),m=e.clamp(0,1,e.mx_noise_float(i).mul(.5,e.exp(n)).add(.5,t));return e.mix(r,s,m)})).setLayout({name:"perlinNoiseRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"balance",type:"float"},{name:"contrast",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Ve(e={}){var{position:a,scale:o,balance:t,contrast:n,color:s,background:r,seed:l}={..._e,...e};return we(a,o,t,n,s,r,l)}Ve.defaults=_e;var he={$name:"Photosphere",position:e.positionGeometry,scale:2,color:new a.Color(16776960),background:new a.Color(16711680),seed:0},ke=e.Fn((([a,o,t,n,s])=>{var r=e.exp(o.add(1)).toVar(),l=a.toVar(),i=e.vec3(l).toVar();e.Loop(6,(()=>{i.assign(e.rotate(i,l.mul(r))),r.mulAssign(s.mul(r).sin().mul(.05).add(1.1))}));var m=e.mx_noise_float(i).add(1).div(2);return e.mix(n,t,m)})).setLayout({name:"photosphereRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Ce(e={}){var{position:a,scale:o,color:t,background:n,seed:s}={...he,...e};return ke(a,o,t,n,s)}Ce.defaults=he;var ze={$name:"Planet",position:e.positionGeometry,scale:2,iterations:5,levelSea:.3,levelMountain:.7,balanceWater:.3,balanceSand:.2,balanceSnow:.8,colorDeep:new a.Color(1194585).convertLinearToSRGB(),colorShallow:new a.Color(8900331).convertLinearToSRGB(),colorBeach:new a.Color(16775885).convertLinearToSRGB(),colorGrass:new a.Color(3978097).convertLinearToSRGB(),colorForest:new a.Color(12288).convertLinearToSRGB(),colorSnow:new a.Color(15794175).convertLinearToSRGB(),seed:0},Le=e.Fn((([a,o,t,n,s,r,l,i,m,c,p,u,d,y,v])=>{var f=e.float(0).toVar(),x=e.float(0).toVar(),g=e.exp(o.sub(2)).toVar(),b=e.float(2).toVar();e.Loop(t.add(10),(()=>{f.addAssign(e.mul(b,e.mx_noise_float(a.mul(g).add(v)))),x.addAssign(b),g.mulAssign(1.5),b.mulAssign(.8)})),f.assign(e.mul(f,f,.5).div(x));n=n.pow(2).toVar(),s=s.pow(2).toVar();var _=e.mix(n,s,l).toVar(),w=e.mix(n,_,.4).toVar(),V=e.mix(n,_,.6).toVar(),h=e.vec3().toVar();return e.If(f.lessThan(n),(()=>{h.assign(e.mix(m,c,e.remap(f,0,n,0,1).pow(e.exp(r.mul(-8).add(4)))))})).ElseIf(f.lessThan(w),(()=>{h.assign(e.mix(c,p,e.remap(f,n,w)))})).ElseIf(f.lessThan(V),(()=>{h.assign(p)})).ElseIf(f.lessThan(_),(()=>{h.assign(e.mix(p,u,e.remap(f,V,_)))})).ElseIf(f.lessThan(s),(()=>{h.assign(e.mix(u,d,e.remap(f,_,s).pow(.75)))})).Else((()=>{var a=e.mix(1,s,i);h.assign(e.mix(d,y,e.smoothstep(e.mix(a,s,i.pow(.5)),a,f)))})),h})).setLayout({name:"planetRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"iterations",type:"int"},{name:"levelSea",type:"float"},{name:"levelMountain",type:"float"},{name:"balanceWater",type:"float"},{name:"balanceSand",type:"float"},{name:"balanceSnow",type:"float"},{name:"colorDeep",type:"vec3"},{name:"colorShallow",type:"vec3"},{name:"colorBeach",type:"vec3"},{name:"colorGrass",type:"vec3"},{name:"colorForest",type:"vec3"},{name:"colorSnow",type:"vec3"},{name:"seed",type:"float"}]});function Fe(e={}){var{position:a,scale:o,iterations:t,levelSea:n,levelMountain:s,balanceWater:r,balanceSand:l,balanceSnow:i,colorDeep:m,colorShallow:c,colorBeach:p,colorGrass:u,colorForest:d,colorSnow:y,seed:v}={...ze,...e};return Le(a,o,t,n,s,r,l,i,m,c,p,u,d,y,v)}Fe.defaults=ze;var Me={$name:"Polka dots",position:e.positionGeometry,count:2,size:.5,blur:.25,color:new a.Color(0),background:new a.Color(16777215),flat:0},Ae=(1+5**.5)/2,Re=e.Fn((([a,o,t,n,s,r,l])=>{var i=e.float(1).toVar();e.If(l.equal(1),(()=>{var t=o.pow(2).sub(.5).toVar(),n=a.xy.mul(t).mul(e.mat2(1,1,-1,1)),s=n.round().toVar();i.assign(n.distance(s).div(t))})).Else((()=>{var t=e.pow(10,o).toVar(),n=a.normalize().toVar(),s=e.oneMinus(n.y).mul(t).sub(1).div(2),r=e.max(10,t.pow(.5)),l=s.sub(r).floor().clamp(0,t),m=s.add(r).floor().clamp(0,t);i.assign(1).toVar(),e.Loop(m.sub(l),(({i:a})=>{var o=e.add(a,l),s=e.mod(e.mul(2*Math.PI/Ae,o),2*Math.PI),r=e.acos(e.oneMinus(e.float(o).mul(2).add(1).div(t))),m=c(r,s);i.assign(e.min(i,e.distance(n,m)))}))}));var m=e.exp(t.mul(5).sub(5)).toVar(),p=n.pow(4).toVar(),u=e.smoothstep(m.sub(p),m.add(p),i);return e.mix(s,r,u)})).setLayout({name:"polkaDotsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"count",type:"float"},{name:"size",type:"float"},{name:"blur",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"xflat",type:"int"}]});function Ge(e={}){var{position:a,count:o,size:t,blur:n,color:s,background:r,flat:l}={...Me,...e};return Re(a,o,t,n,s,r,l)}Ge.defaults=Me;var Se={$name:"Processed wood",$width:260,position:e.positionGeometry,scale:2,lengths:4,strength:.3,angle:0,color:new a.Color(7348256),background:new a.Color(15782048),seed:0},$e=e.Fn((([a,o,t,n,s,r,l,i])=>{s=e.radians(s).toVar();var m=e.vec3(e.sub(a.x.mul(e.cos(s)),a.y.mul(e.sin(s))),e.add(a.x.mul(e.sin(s)),a.y.mul(e.cos(s))),a.z).toVar(),c=o.div(2).add(1).toVar(),p=m.mul(e.exp(o)).add(i).toVar(),u=t.add(5).reciprocal().toVar(),d=e.mx_noise_float(p.mul(c,e.vec3(1,u,u)));return d=(d=d.mul(e.mx_noise_float(p.mul(e.vec3(25,1,1))).add(-1).mul(.2))).add(n.sub(.5)).smoothstep(-.3,.3).oneMinus(),e.mix(r,l,d)})).setLayout({name:"processedWoodRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"lengths",type:"float"},{name:"strength",type:"float"},{name:"angle",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Pe(e={}){var{position:a,scale:o,lengths:t,strength:n,angle:s,color:r,background:l,seed:i}={...Se,...e};return $e(a,o,t,n,s,r,l,i)}Pe.defaults=Se;var Ie={$name:"Protozoa",position:e.positionGeometry,matcap:e.matcapUV,scale:1.5,fat:.7,amount:.4,color:new a.Color(10526880),subcolor:new a.Color(14739711),background:new a.Color(15792383),seed:0},We=e.Fn((([a,o])=>e.mx_noise_float(a).mul(o).clamp(-3.14,3.14).cos().add(1).div(2))).setLayout({name:"pnoise",type:"float",inputs:[{name:"pos",type:"vec3"},{name:"fat",type:"float"}]}),Te=e.Fn((([a,o,t,n,s,r,l,i,m])=>{var c=a.mul(e.exp(t.sub(1))).add(m).toVar(),p=e.vec3(o,o.length()).toVar(),u=e.float(0).toVar(),d=e.float(0).toVar(),y=e.float(0).toVar(),v=e.float(0).toVar(),f=(n=n.add(.2).oneMinus().mul(60).add(30).toVar(),e.float(2).toVar()),x=s.div(2).add(.5).exp().toVar();return e.Loop(10,(()=>{u.assign(We(c.xyz.add(p),n)),d.assign(We(c.yzx.add(p),n)),y.addAssign(u.mul(d).mul(f)),v.addAssign(u.max(d).mul(f)),c.assign(e.mix(c.mul(x),0,.4)),t.mulAssign(.9)})),e.mix(i,e.mix(r,l,v.mul(.1)),y)})).setLayout({name:"protozoaRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"matcap",type:"vec2"},{name:"scale",type:"float"},{name:"fat",type:"float"},{name:"amount",type:"float"},{name:"color",type:"vec3"},{name:"subcolor",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Ee(e={}){var{position:a,matcap:o,scale:t,fat:n,amount:s,color:r,subcolor:l,background:i,seed:m}={...Ie,...e};return Te(a,o,t,n,s,r,l,i,m)}Ee.defaults=Ie;var Be={$name:"Rotator",$positionNode:!0,$selectorPlanar:!0,angles:new a.Vector3(-.2,.7,0),center:new a.Vector3(0,0,0),selectorCenter:new a.Vector3(0,0,0),selectorAngles:new a.Vector2(0,0),selectorWidth:2},qe=e.Fn((([e,a,o,t,n,s])=>{var r=u(e,t,n,s);return p(e,o,a.mul(r))})).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"angles",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),Ne=e.Fn((([a,o,t,n,s])=>qe(e.positionGeometry,a,o,t,n,s))).setLayout({name:"rotatorRaw",type:"vec3",inputs:[{name:"angles",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),je=e.Fn((([a,o,n,s,r])=>{var l=e.positionGeometry,i=e.normalLocal.normalize().toVar(),m=e.tangentLocal.normalize().mul(.01).toVar(),c=e.cross(i,m).normalize().mul(.01).toVar(),p=qe(l,a,o,n,s,r),u=qe(l.add(m),a,o,n,s,r),d=qe(l.add(c),a,o,n,s,r);return t(p,u,d)})).setLayout({name:"rotatorNormalRaw",type:"vec3",inputs:[{name:"angles",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]});function De(e={}){var{angles:a,center:o,selectorAngles:t,selectorCenter:n,selectorWidth:s}={...Be,...e};return Ne(a,o,t,n,s)}De.normal=function(e={}){var{angles:a,center:o,selectorAngles:t,selectorCenter:n,selectorWidth:s}={...Be,...e};return je(a,o,t,n,s)},De.defaults=Be;var Ue={$name:"Rough clay",$normalNode:!0,position:e.positionGeometry,scale:2,bump:.5,curvature:.2,seed:0},Ye=e.Fn((([a,o,t])=>{var n=e.mx_worley_noise_float(a.add(e.mx_noise_float(a).mul(t))).add(.8).pow(5).toVar();return n.addAssign(n.pow(.5)),a.add(o.mul(n))})).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"curvature",type:"float"}]}),Oe=e.Fn((([a,o,n,s,r,l,i])=>{var m=a.mul(e.exp(s.div(2))).add(i.sin().mul(10)).toVar(),c=o.normalize().toVar(),p=n.normalize().mul(.001).toVar(),u=e.cross(c,p).normalize().mul(.001).toVar();c.mulAssign(r,.02);var d=Ye(m,c,l),y=Ye(m.add(p),c,l),v=Ye(m.add(u),c,l);return t(d,y,v)})).setLayout({name:"concreteRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"tangent",type:"vec3"},{name:"scale",type:"float"},{name:"bump",type:"float"},{name:"curvature",type:"float"},{name:"seed",type:"float"}]});function He(a={}){var{position:o,scale:t,bump:n,curvature:s,seed:r}={...Ue,...a};return Oe(o,e.normalLocal,e.tangentLocal,t,n,s,r)}He.defaults=Ue;var Je={$name:"Runny eggs",position:e.positionGeometry,scale:1,sizeYolk:.2,sizeWhite:.7,colorYolk:new a.Color("orange"),colorWhite:new a.Color("white"),colorBackground:new a.Color("lightgray"),seed:0},Ke=e.Fn((([a,o,t,n])=>{var s=e.mx_worley_noise_float(a).toVar(),r=s.add(n).pow(8).oneMinus(),l=s.add(t).pow(18).oneMinus().clamp(0,1),i=e.mix(0,e.mix(0,1,l),r);return a.add(o.mul(i))})).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"normal",type:"vec3"},{name:"sizeYolk",type:"float"},{name:"sizeWhite",type:"float"}]}),Xe=e.Fn((([a,o,t,n,s,r,l,i])=>{var m=a.mul(e.exp(o)).add(i.sin().mul(10)).toVar(),c=e.mx_worley_noise_float(m).toVar(),p=c.add(n.oneMinus()).pow(8).oneMinus().clamp(-.5,1),u=c.add(t.oneMinus()).pow(18).oneMinus().clamp(0,1).pow(.4).clamp(0,1);return e.mix(l,e.mix(r,s,u),p)})).setLayout({name:"runnyEggsRaw",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"normal",type:"vec3"},{name:"sizeYolk",type:"float"},{name:"sizeWhite",type:"float"},{name:"colorYolk",type:"vec3"},{name:"colorWhite",type:"vec3"},{name:"colorBackground",type:"vec3"},{name:"seed",type:"float"}]}),Ze=e.Fn((([a,o,n,s,r,l,i])=>{var m=a.mul(e.exp(s)).add(i.sin().mul(10)).toVar(),c=o.normalize().toVar(),p=n.normalize().mul(.001).toVar(),u=e.cross(c,p).normalize().mul(.001).toVar(),d=r.oneMinus(),y=l.oneMinus();c.mulAssign(.05);var v=Ke(m,c,d,y),f=Ke(m.add(p),c,d,y),x=Ke(m.add(u),c,d,y);return t(v,f,x)})).setLayout({name:"runnyEggsNormalRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"tangent",type:"vec3"},{name:"scale",type:"float"},{name:"sizeYolk",type:"float"},{name:"sizeWhite",type:"float"},{name:"seed",type:"float"}]}),Qe=e.Fn((([a,o,t,n])=>{var s=a.mul(e.exp(o)).add(n.sin().mul(10)).toVar();return e.mx_worley_noise_float(s).toVar().add(t.oneMinus()).pow(18).clamp(0,1)})).setLayout({name:"runnyEggsRoughnessRaw",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"sizeYolk",type:"float"},{name:"seed",type:"float"}]});function ea(e={}){var{position:a,scale:o,sizeYolk:t,sizeWhite:n,colorYolk:s,colorWhite:r,colorBackground:l,seed:i}={...Je,...e};return Xe(a,o,t,n,s,r,l,i)}ea.normal=function(a={}){var{position:o,scale:t,sizeYolk:n,sizeWhite:s,seed:r}={...Je,...a};return Ze(o,e.normalLocal,e.tangentLocal,t,n,s,r)},ea.roughness=function(e={}){var{position:a,scale:o,sizeYolk:t,seed:n}={...Je,...e};return Qe(a,o,t,n)},ea.defaults=Je;var aa={$name:"rust",position:e.positionGeometry,scale:2,iterations:8,amount:-.3,opacity:.5,noise:.5,noiseScale:.5,color:new a.Color(12615680),background:new a.Color(32),seed:0},oa=e.Fn((([a,o,t,n,s])=>{var r=a.mul(e.exp(o.div(4).add(-1))).add(s).toVar(),l=n.mul(e.mx_noise_float(r.mul(n.div(2).add(4))).add(4)).toVar(),i=e.mx_noise_float(r).toVar();return e.Loop(t,(()=>{r.mulAssign(2),i.addAssign(e.mx_noise_float(r))})),i.subAssign(e.mx_noise_float(r.mul(2)).abs()),i.assign(i.sub(l).clamp(0,15)),i})).setLayout({name:"_rust",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"iterations",type:"int"},{name:"amount",type:"float"},{name:"seed",type:"float"}]}),ta=e.Fn((([a,o,t,n,s,r,l,i,m])=>{var c=oa(a,o,t,n,m).mul(1.25).pow(.5),p=a.mul(e.exp(o.add(r.mul(3),2)));return c.addAssign(s.mul(e.mx_noise_float(p).abs().add(.1).pow(2))),e.mix(l,i,c)})).setLayout({name:"rustRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"iterations",type:"int"},{name:"amount",type:"float"},{name:"xnoise",type:"float"},{name:"noiseScale",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]}),na=e.Fn((([e,a,o,t,n,s])=>oa(e,a,o,t,s).mul(n.add(.2)).oneMinus())).setLayout({name:"rustOpacityRaw",type:"float",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"iterations",type:"int"},{name:"amount",type:"float"},{name:"opacity",type:"float"},{name:"seed",type:"float"}]});function sa(e={}){var{position:a,scale:o,iterations:t,amount:n,noise:s,noiseScale:r,color:l,background:i,seed:m}={...aa,...e};return ta(a,o,t,n,s,r,l,i,m)}sa.opacity=function(e={}){var{position:a,scale:o,iterations:t,amount:n,opacity:s,seed:r}={...aa,...e};return na(a,o,t,n,s,r)},sa.defaults=aa;var ra={$name:"Satin",position:e.positionGeometry,scale:2,color:new a.Color(7373055),background:new a.Color(80),seed:0},la=e.Fn((([a,o,t,n,s])=>{var r=a.toVar("pos"),l=(o=o.div(3).exp().toVar("xscale"),e.mx_noise_float(e.vec3(e.mx_noise_float(e.vec3(r.x.mul(2),r.y,r.z).mul(o)),e.mx_noise_float(e.vec3(r.x,r.y.mul(2),r.z).mul(o)),e.mx_noise_float(e.vec3(r.x,r.y,r.z.mul(2)).mul(o))).mul(o).add(s)).abs().pow(3).mul(20).toVar("k"));return e.mix(n,t,l)})).setLayout({name:"satinRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function ia(e={}){var{position:a,scale:o,color:t,background:n,seed:s}={...ra,...e};return la(a,o,t,n,s)}ia.defaults=ra;var ma={$name:"Scaler",$positionNode:!0,$selectorPlanar:!0,scales:new a.Vector3(.01,.9,1.7),center:new a.Vector3(0,0,0),selectorCenter:new a.Vector3(0,0,0),selectorAngles:new a.Vector2(0,0),selectorWidth:2},ca=e.Fn((([a,o,t,n,s,r])=>{var l=u(a,n,s,r),i=e.mix(e.vec3(1,1,1),o,l);return a.sub(t).mul(i).add(t)})),pa=e.Fn((([a,o,t,n,s])=>ca(e.positionGeometry,a,o,t,n,s))).setLayout({name:"scalerRaw",type:"vec3",inputs:[{name:"scales",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),ua=e.Fn((([a,o,n,s,r])=>{var l=e.positionGeometry,i=e.normalLocal.normalize().toVar(),m=e.tangentLocal.normalize().mul(.01).toVar(),c=e.cross(i,m).normalize().mul(.01).toVar(),p=ca(l,a,o,n,s,r),u=ca(l.add(m),a,o,n,s,r),d=ca(l.add(c),a,o,n,s,r);return t(p,u,d)})).setLayout({name:"scalerNormalRaw",type:"vec3",inputs:[{name:"scales",type:"vec3"},{name:"center",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]});function da(e={}){var{scales:a,center:o,selectorAngles:t,selectorCenter:n,selectorWidth:s}={...ma,...e};return pa(a,o,t,n,s)}da.normal=function(e={}){var{scales:a,center:o,selectorAngles:t,selectorCenter:n,selectorWidth:s}={...ma,...e};return ua(a,o,t,n,s)},da.defaults=ma;var ya={$name:"Scepter head",position:e.positionGeometry,xFactor:10,yFactor:22,zFactor:10,colorRim:new a.Color(16777215),colorA:new a.Color(7397631),colorB:new a.Color(3145983)},va=e.Fn((([a,o,t,s,r,l,c])=>{var p=a.toVar("pos"),u=p.x.mul(n(o,0,100,1.35,30)).toVar("fx"),d=p.y.mul(n(t,0,100,1.35,30)).toVar("fy"),y=p.z.mul(n(s,0,100,1.35,30)).toVar("fz"),v=e.cos(u),f=e.cos(d),x=e.cos(y),g=e.mx_noise_float(e.vec3(p.x.div(v),p.y.div(f),p.z.div(x)));g=e.sign(g).mul(e.abs(g).pow(.75));var b=e.abs(e.mul(u,e.tan(u)).add(1).div(v)),_=e.abs(e.mul(d,e.tan(d)).add(1).div(f)),w=e.abs(e.mul(y,e.tan(y)).add(1).div(x)),V=e.vec3().toVar(),h=e.abs(e.floor(u.mul(2/Math.PI).add(1).div(2))),k=e.abs(e.floor(d.mul(2/Math.PI).add(1).div(2))),C=e.abs(e.floor(y.mul(2/Math.PI).add(1).div(2))),z=e.mod(e.add(h,k,C),2);V.assign(m(e.mix(l,c,z)));var L=i(e.vec3(V.xy,V.z.mul(g))).toVar("color1");V.assign(m(r));var F=i(e.vec3(V.xy,e.mul(2,g,V.z))).toVar("color2");return e.mix(L,F,e.remapClamp(e.max(b,e.max(_,w)),45,65))})).setLayout({name:"scepterHeadRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"xFactor",type:"float"},{name:"yFactor",type:"float"},{name:"zFactor",type:"float"},{name:"colorRim",type:"vec3"},{name:"colorA",type:"vec3"},{name:"colorB",type:"vec3"}]});function fa(e={}){var{position:a,xFactor:o,yFactor:t,zFactor:n,colorRim:s,colorA:r,colorB:l}={...ya,...e};return va(a,o,t,n,s,r,l)}fa.defaults=ya;var xa={$name:"Scream",position:e.positionGeometry,scale:2,variety:1,color:new a.Color(15790176),background:new a.Color(13668496),seed:0},ga=e.Fn((([a,o,t,n,s,r])=>{var l=a.mul(e.exp(o)).add(r).toVar("pos"),c=e.mx_noise_float(e.add(e.sin(l.xyz),e.cos(l.yzx)));l.assign(a.mul(e.exp(o).mul(c)).add(r));c=e.mx_noise_float(e.add(e.sin(l.xyz),e.cos(l.yzx)).mul(2));var p=e.mix(s,n,c).toVar("col"),u=m(p).toVar("HSL");return i(e.vec3(e.add(u.x,t.mul(e.sin(c.mul(Math.PI))).mul(.5)),u.yz))})).setLayout({name:"satinRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"variety",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function ba(e={}){var{position:a,scale:o,variety:t,color:n,background:s,seed:r}={...xa,...e};return ga(a,o,t,n,s,r)}ba.defaults=xa;var _a={$name:"Stars",position:e.positionGeometry,scale:2,density:2,variation:0,color:new a.Color(16774640),background:new a.Color(96),seed:0},wa=e.Fn((([a,o,t,n,s,r,l])=>{var c=a.mul(e.exp(o.div(2).add(3))).add(l).toVar(),p=e.abs(e.mx_noise_float(c)).pow(10).mul(10);p=p.mul(e.exp(t.sub(2)));var u=e.select(p.greaterThan(.1),n.mul(e.mx_noise_float(c)),0),d=m(e.mix(r,s,p));return i(e.vec3(e.add(d.x,u),d.yz))})).setLayout({name:"starsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"variation",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Va(e={}){var{position:a,scale:o,density:t,variation:n,color:s,background:r,seed:l}={..._a,...e};return wa(a,o,t,n,s,r,l)}Va.defaults=_a;var ha={$name:"Static noise",position:e.screenCoordinate,time:e.time,scale:2,balance:0,contrast:0,delay:0,seed:0},ka=e.Fn((([a,t,n,s,r,l,i])=>{var m=a.div(e.exp(n)).add(i),c=l.sub(1).mul(5).exp(),p=t.div(c).round().mul(c),u=o(p.sin()).mul(1e3),d=e.clamp(0,1,e.mx_noise_float(m.add(u)));return d=d.mul(.5,e.exp(r)).add(.5,s),e.vec3(d)})).setLayout({name:"staticNoiseRaw",type:"vec3",inputs:[{name:"position",type:"vec2"},{name:"time",type:"float"},{name:"scale",type:"float"},{name:"balance",type:"float"},{name:"contrast",type:"float"},{name:"delay",type:"float"},{name:"seed",type:"float"}]});function Ca(e={}){var{position:a,time:o,scale:t,balance:n,contrast:s,delay:r,seed:l}={...ha,...e};return ka(a,o,t,n,s,r,l)}Ca.defaults=ha;var za={$name:"Supersphere",$positionNode:!0,exponent:3},La=e.Fn((([a,o])=>{var t=e.float(2).pow(o),n=a.div(a.length()).toVar(),s=n.abs().pow(t).toVar(),r=s.x.add(s.y).add(s.z).pow(t.reciprocal());return n.div(r)})).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"exponent",type:"float"}]}),Fa=e.Fn((([a])=>La(e.positionGeometry,a))).setLayout({name:"supersphereRaw",type:"vec3",inputs:[{name:"exponent",type:"float"}]}),Ma=e.Fn((([a])=>{var o=e.positionGeometry,n=e.normalLocal.normalize().toVar(),s=e.tangentLocal.normalize().mul(.01).toVar(),r=e.cross(n,s).normalize().mul(.01).toVar(),l=La(o,a),i=La(o.add(s),a),m=La(o.add(r),a);return t(l,i,m)})).setLayout({name:"supersphereRaw",type:"vec3",inputs:[{name:"exponent",type:"float"}]});function Aa(e={}){var{exponent:a}={...za,...e};return Fa(a)}Aa.normal=function(e={}){var{exponent:a}={...za,...e};return Ma(a)},Aa.defaults=za;var Ra={$name:"Tiger fur",position:e.positionGeometry,scale:2,lengths:4,blur:.3,strength:.3,hairs:.5,color:new a.Color(16755200),bottomColor:new a.Color(16777198),seed:0},Ga=e.Fn((([a,o,t,n,s,r,l,i,m])=>{var c=o.div(2).add(1).toVar(),p=a.mul(e.exp(c)).add(m).toVar(),u=t.add(5).reciprocal().toVar(),d=(r=r.mul(.3).toVar(),e.mx_noise_float(p.mul(c,e.vec3(1,u,u))));d=(d=d.add(e.mx_noise_float(p.mul(e.vec3(25,1,1))).add(1).mul(r))).add(s.sub(.5)).smoothstep(n.negate(),n).oneMinus();var y=a.y.add(r.sub(.5)).smoothstep(-1,.5);return e.mix(i,l,y).mul(d)})).setLayout({name:"tigerFurRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"lengths",type:"float"},{name:"blur",type:"float"},{name:"strength",type:"float"},{name:"hairs",type:"float"},{name:"color",type:"vec3"},{name:"bottomColor",type:"vec3"},{name:"seed",type:"float"}]});function Sa(e={}){var{position:a,scale:o,lengths:t,blur:n,strength:s,hairs:r,color:l,bottomColor:i,seed:m}={...Ra,...e};return Ga(a,o,t,n,s,r,l,i,m)}Sa.defaults=Ra;var $a={$name:"Translator",$positionNode:!0,$selectorPlanar:!0,distance:new a.Vector3(-.5,0,.2),selectorCenter:new a.Vector3(0,0,0),selectorAngles:new a.Vector2(0,0),selectorWidth:.7},Pa=e.Fn((([e,a,o,t,n])=>{var s=u(e,o,t,n);return e.add(a.mul(s))})).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"pos",type:"vec3"},{name:"distance",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),Ia=e.Fn((([a,o,t,n])=>Pa(e.positionGeometry,a,o,t,n))).setLayout({name:"translatorRaw",type:"vec3",inputs:[{name:"distance",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]}),Wa=e.Fn((([a,o,n,s])=>{var r=e.positionGeometry,l=e.normalLocal.normalize().toVar(),i=e.tangentLocal.normalize().mul(.01).toVar(),m=e.cross(l,i).normalize().mul(.01).toVar(),c=Pa(r,a,o,n,s),p=Pa(r.add(i),a,o,n,s),u=Pa(r.add(m),a,o,n,s);return t(c,p,u)})).setLayout({name:"translatorNormalRaw",type:"vec3",inputs:[{name:"distance",type:"vec3"},{name:"selectorAngles",type:"vec2"},{name:"selectorCenter",type:"vec3"},{name:"selectorWidth",type:"float"}]});function Ta(e={}){var{distance:a,selectorAngles:o,selectorCenter:t,selectorWidth:n}={...$a,...e};return Ia(a,o,t,n)}Ta.normal=function(e={}){var{distance:a,selectorAngles:o,selectorCenter:t,selectorWidth:n}={...$a,...e};return Wa(a,o,t,n)},Ta.defaults=$a;var Ea={$name:"Voronoi cells",position:e.positionGeometry,scale:2,variation:0,facet:0,color:new a.Color(0),background:new a.Color(12636415),seed:0},Ba=e.Fn((([a,t,n,s,r,l,i])=>{var m=a.mul(e.exp(t.div(2).add(.5))).add(i).toVar(),c=m.round().toVar(),p=c.toVar(),u=e.float(1).toVar(),d=e.vec3().toVar(),y=e.float().toVar(),v=e.int(0).toVar("i"),f=e.int(0).toVar("j"),x=e.int(0).toVar("k");e.Loop(3,3,3,(()=>{d.assign(c.add(e.vec3(v,f,x).sub(1)));var a=d.add(o(d.mul(2*Math.PI)).div(2));y.assign(m.distance(a)),e.If(y.lessThan(u),(()=>{u.assign(y),p.assign(d)}))}));var g=e.mx_noise_float(p.mul(Math.PI)).toVar(),b=e.mix(u,g.add(1).div(2),s),_=(r=e.mix(r,l,b).toVar(),e.vec3(g.mul(16.8),g.mul(31.4159),g.mul(27.1828)).sin().add(1).div(2));return e.mix(r,e.mix(r,_,n),n)})).setLayout({name:"voronoiCellsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"variation",type:"float"},{name:"facet",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function qa(e={}){var{position:a,scale:o,variation:t,facet:n,color:s,background:r,seed:l}={...Ea,...e};return Ba(a,o,t,n,s,r,l)}qa.defaults=Ea;var Na={$name:"Water Drops",$normalNode:!0,position:e.positionGeometry,scale:1.4,density:.5,bump:.6,seed:0},ja=e.Fn((([a,o,t])=>{var n=e.mx_noise_float(a,1,t).clamp(0,1);return n=e.cos(n.mul(Math.PI)).add(1).pow(.5).toVar(),a.add(o.mul(n))})).setLayout({name:"surfacePos",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"density",type:"float"}]}),Da=e.Fn((([a,o,n,s,r,l,i])=>{var m=e.vec3(1,2,3).mul(i).sin().mul(100).toVar(),c=a.mul(e.exp(s.div(1).add(1))).add(m).toVar(),p=o.normalize().toVar(),u=n.normalize().mul(.001).toVar(),d=e.cross(p,u).normalize().mul(.001).toVar(),y=e.remap(r,0,1,1.5,.7).toVar();p.mulAssign(l);var v=ja(c,p,y),f=ja(c.add(u),p,y),x=ja(c.add(d),p,y);return t(v,f,x)})).setLayout({name:"waterDropsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"tangent",type:"vec3"},{name:"scale",type:"float"},{name:"density",type:"float"},{name:"bump",type:"float"},{name:"seed",type:"float"}]});function Ua(a={}){var{position:o,scale:t,density:n,bump:s,seed:r}={...Na,...a};return Da(o,e.normalLocal,e.tangentLocal,t,n,s,r)}Ua.defaults=Na;var Ya={$name:"Watermelon",$replaceExportUVS:e.screenUV,position:e.positionGeometry,uvs:e.equirectUV(e.positionGeometry.normalize()),scale:2,stripes:12,variation:.5,noise:.25,color:new a.Color("yellowgreen"),background:new a.Color("darkgreen"),seed:0},Oa=e.Fn((([a,o,t,n,s,r,l,i,m])=>{var c=a.mul(e.exp(t.div(4).add(2))).add(m).toVar(),p=o.x.mul(n,2*Math.PI).add(e.mx_noise_float(c.mul(e.vec3(1,.3,1))).mul(2)).sin().add(.5).div(2).mul(o.y.remap(0,1,-Math.PI,Math.PI).cos().add(1.2).clamp(0,1)).add(s.mul(2,e.mx_noise_float(c.mul(1.5)).div(2))).add(s.mul(2,e.mx_noise_float(c.mul(4)).div(6))).toVar();return p.assign(p.mix(p.round(),.75).add(e.mx_noise_float(c.mul(2)).mul(r,.5)).add(e.mx_noise_float(c.mul(3)).mul(r,1)).add(e.mx_noise_float(c.mul(15)).mul(r,.2)).clamp(0,1)),l=e.mix(i,l,p).toVar()})).setLayout({name:"watermelonRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"uvs",type:"vec2"},{name:"scale",type:"float"},{name:"stripes",type:"int"},{name:"variation",type:"float"},{name:"xnoise",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Ha(e={}){var{position:a,uvs:o,scale:t,stripes:n,variation:s,noise:r,color:l,background:i,seed:m}={...Ya,...e};return Oa(a,o,t,n,s,r,l,i,m)}Ha.defaults=Ya;var Ja={$name:"Wood",position:e.positionGeometry,scale:2.5,rings:4.5,lengths:1,angle:0,fibers:.3,fibersDensity:10,color:new a.Color(.8,.4,0),background:new a.Color(.4,.1,0),seed:0},Ka=e.Fn((([a,o,t,n,s,r,l,i,m,c])=>{s=e.radians(s).toVar();var p=e.vec3(e.sub(a.x.mul(e.cos(s)),a.y.mul(e.sin(s))),e.add(a.x.mul(e.sin(s)),a.y.mul(e.cos(s))),a.z).toVar(),u=p.mul(e.exp(o.sub(3)).mul(e.vec3(e.reciprocal(n),4,e.reciprocal(n)))).add(c).toVar(),d=e.mx_noise_float(u).add(1).mul(10).mul(t);d=d.add(d.cos()).cos().add(1).div(2);var y=e.float(0).toVar(),v=e.float(0).toVar(),f=(o=e.exp(o.sub(2)).mul(e.vec3(1,l,1)).toVar(),e.float(2).toVar());return e.Loop(10,(()=>{y.addAssign(e.mul(f,e.mx_noise_float(p.mul(o).add(c)))),v.addAssign(f),o.mulAssign(1.8),f.mulAssign(.6)})),y.assign(e.mul(y,5).div(v).mul(10).sin().add(1).div(2)),e.mix(i,m,e.mix(d,y,r))})).setLayout({name:"woodRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"rings",type:"float"},{name:"lengths",type:"float"},{name:"angle",type:"float"},{name:"fibers",type:"float"},{name:"fibersDensity",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Xa(e={}){var{position:a,scale:o,rings:t,lengths:n,angle:s,fibers:r,fibersDensity:l,color:i,background:m,seed:c}={...Ja,...e};return Ka(a,o,t,n,s,r,l,i,m,c)}Xa.defaults=Ja;var Za={$name:"Zebra lines",position:e.positionGeometry,scale:2,thinness:.5,phi:0,theta:0,color:new a.Color(0),background:new a.Color(16777215),flat:0},Qa=e.Fn((([a,o,t,n,s,r,l,i])=>{var m=e.select(i,a,a.normalize()).toVar(),p=e.select(i,e.vec2(e.cos(n),e.sin(n)),c(n,s)).toVar(),u=e.select(i,e.clamp(p.dot(m),-2,2),e.acos(e.clamp(p.dot(m),-1,1))).toVar(),d=(o=e.exp(o.add(1)).toVar(),e.sin(u.mul(o)).sub(t.sub(.5).mul(2)));return d=e.clamp(d.mul(1e3).div(o),-1,1).mul(.5).add(.5),e.mix(l,r,d)})).setLayout({name:"zebraLinesRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"thinness",type:"float"},{name:"phi",type:"float"},{name:"theta",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"xflat",type:"int"}]});function eo(e={}){var{position:a,scale:o,thinness:t,phi:n,theta:s,color:r,background:l,flat:i}={...Za,...e};return Qa(a,o,t,n,s,r,l,i)}eo.defaults=Za;var ao={$name:"Circle decor",position:e.positionGeometry,scale:2,grains:.2,complexity:1,blur:.2,color:new a.Color(0),background:new a.Color(16777215),seed:0},oo=e.Fn((([a,o,t,n,s,r,l,i])=>{var m=a.mul(e.exp(o.div(4))).add(i).toVar("pos"),c=m.mul(2).toVar("subpos"),p=e.mx_worley_noise_float(m),u=e.mx_worley_noise_float(c),d=e.mx_worley_noise_float(m.mul(t.mul(4).add(2))).mul(2),y=e.mx_noise_float(m).div(2).add(1),v=p.min(u,d).clamp(0,1).mul(n.add(2).exp(),y,Math.PI).sin().smoothstep(s.negate(),s);return e.mix(r,l,v.oneMinus())})).setLayout({name:"camouflageRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"grains",type:"float"},{name:"complexity",type:"float"},{name:"blur",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function to(e={}){var{position:a,scale:o,grains:t,complexity:n,blur:s,color:r,background:l,seed:i}={...ao,...e};return oo(a,o,t,n,s,r,l,i)}to.defaults=ao;var no={$name:"Reticular veins",position:e.positionGeometry,scale:2,reticulation:5,strength:.2,organelles:.2,color:new a.Color(16777200),background:new a.Color(2129952),seed:0},so=e.Fn((([a,o,t,n,s,r,l,i])=>{var m=a.mul(e.exp(o.div(2).add(.5))).add(i).toVar(),c=e.mx_worley_noise_float(m),p=e.mx_worley_noise_float(m.add(100).mul(t)).mul(n),u=e.mx_noise_float(m.mul(100)).mul(n,s),d=c.add(p).add(u);return e.mix(l,r,d)})).setLayout({name:"reticularVeinsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"reticulation",type:"float"},{name:"strength",type:"float"},{name:"organelles",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function ro(e={}){var{position:a,scale:o,reticulation:t,strength:n,organelles:s,color:r,background:l,seed:i}={...no,...e};return so(a,o,t,n,s,r,l,i)}ro.defaults=no;var lo={$name:"Roman paving",position:e.positionGeometry,scale:2,depth:.5,seed:0},io=e.Fn((([a,o,t,n])=>{var s=a.mul(e.exp(o)).add(n).toVar(),r=e.mx_worley_noise_vec2(s).toVar();return r.y.sub(r.x).pow(t.mul(3).sub(3).exp()).smoothstep(0,1)})).setLayout({name:"romanPavingRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"depth",type:"float"},{name:"seed",type:"float"}]});function mo(e={}){var{position:a,scale:o,depth:t,seed:n}={...lo,...e};return io(a,o,t,n)}mo.defaults=lo;var co={$name:"Crumpled fabric",$width:260,position:e.positionGeometry,scale:2,pinch:.5,color:new a.Color(11596031),subcolor:new a.Color(4210928),background:new a.Color(12288),seed:0},po=e.Fn((([a,o,t,n,s,r,l])=>{var i=a.mul(e.exp(o.sub(.5))).add(l).toVar();e.Loop(4,(()=>{var a=e.mx_noise_float(i.xyz),o=e.mx_noise_float(i.yzx),n=e.mx_noise_float(i.zxy);i.addAssign(e.vec3(a,o,n).mul(t))}));var m=e.mx_noise_float(i).add(1).div(2).clamp(0,1),c=n.mul(m.mul(2).sub(1).abs().oneMinus()),p=s.mul(m).pow(2),u=r.mul(m.oneMinus().pow(2));return c.add(p).add(u)})).setLayout({name:"crumpledFabricRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"pinch",type:"float"},{name:"color",type:"vec3"},{name:"subcolor",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function uo(e={}){var{position:a,scale:o,pinch:t,color:n,subcolor:s,background:r,seed:l}={...co,...e};return po(a,o,t,n,s,r,l)}uo.defaults=co;var yo={$name:"Isolayers",position:e.positionGeometry,scale:2,layers:10,edge:.5,darkness:0,color:new a.Color(16777200),background:new a.Color(16728128),seed:0},vo=e.Fn((([a,o,t,n,s,r,l,c])=>{var p=a.mul(e.exp(o.sub(1))).add(c).toVar(),u=n.remap(0,1,40,10),d=e.mx_noise_float(p,1.2,1).div(2),y=d.mul(t).round().div(t).clamp(0,1),v=d.sub(e.float(.53).div(t)).mul(t).fract().mul(e.float(2).pow(u.reciprocal())).pow(u).sub(1).abs().oneMinus(),f=e.mix(m(l),m(r),y).toVar();return f.z.mulAssign(e.mix(1,y.mul(1.5),s).clamp(0,1)),i(f).sub(v)})).setLayout({name:"isolayersRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"layers",type:"int"},{name:"edge",type:"float"},{name:"darkness",type:"float"},{name:"color",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function fo(e={}){var{position:a,scale:o,layers:t,edge:n,darkness:s,color:r,background:l,seed:i}={...yo,...e};return vo(a,o,t,n,s,r,l,i)}fo.defaults=yo;var xo={$name:"Turbulent smoke",$width:260,position:e.positionGeometry,scale:2,speed:0,details:5,time:e.time,seed:0},go=e.Fn((([a,o,t,n,s,r])=>{var l=a.mul(e.exp(o.sub(1))).add(r).toVar(),i=s.mul(t.sub(1).exp()),m=l.add(e.vec3(e.mx_fractal_noise_float(l.add(e.vec3(1,i.sin(),-1))),e.mx_fractal_noise_float(l.add(e.vec3(i.add(2*Math.PI/3).sin(),1,-1))),e.mx_fractal_noise_float(l.add(e.vec3(1,-1,i.add(4*Math.PI/3).sin()))))),c=e.mx_fractal_noise_vec3(m,n);return e.mx_worley_noise_float(l.add(c.div(2))).pow(4).mul(4).oneMinus()})).setLayout({name:"turbulentSmokeRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"speed",type:"float"},{name:"details",type:"int"},{name:"time",type:"float"},{name:"seed",type:"float"}]});function bo(e={}){var{position:a,scale:o,speed:t,details:n,time:s,seed:r}={...xo,...e};return go(a,o,t,n,s,r)}bo.defaults=xo;var _o={$name:"Caustics",position:e.positionGeometry,scale:2,speed:0,time:e.time,color:new a.Color(5286080),seed:0},wo=e.Fn((([a,o,t,n,s,r])=>{var l=a.mul(e.exp(o.sub(1))).add(r).toVar(),i=n.mul(t.sub(1).exp()).add(e.vec3(0,2*Math.PI/3,4*Math.PI/3)).sin();return e.mx_worley_noise_vec3(l.add(e.vec3(e.mx_worley_noise_float(l.add(i.xyz)),e.mx_worley_noise_float(l.add(i.yzx)),e.mx_worley_noise_float(l.add(i.zxy))))).length().div(Math.sqrt(3)).add(s.sub(.5).mul(2))})).setLayout({name:"causticsRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"speed",type:"float"},{name:"time",type:"float"},{name:"color",type:"vec3"},{name:"seed",type:"float"}]});function Vo(e={}){var{position:a,scale:o,speed:t,time:n,color:s,seed:r}={..._o,...e};return wo(a,o,t,n,s,r)}Vo.defaults=_o;var ho={$name:"Bricks",position:e.positionGeometry,scale:2,brickSize:new a.Vector3(2,1,2),brickShift:2,jointSize:.05,jointSpan:.5,jointJitter:.5,jointBlur:.03,noiseSize:.5,noiseStrength:.2,colorShade:.5,color:new a.Color(16728064),additional:new a.Color(13672496),background:new a.Color(11184810),seed:0},ko=e.Fn((([a,o,t,s,r,l,i,m,c,p,u,d,y,v,f])=>{var x=a.mul(e.exp(o)).add(f).toVar(),g=t,b=x.div(g).floor().div(s),_=e.vec3(b.y,0,b.y).toVar(),w=x.div(g).fract().add(_).fract().toVar(),V=e.mx_fractal_noise_vec3(x.mul(n(l,0,1,20,.2))).div(n(i,0,1,500,1)).toVar(),h=e.mul(w.mul(g).add(V.z).smoothstep(g.y.sub(r,m),g.y.sub(r)).y.oneMinus(),w.mul(g).add(V.y).smoothstep(r,r.add(m)).y,w.mul(g).add(V.y).smoothstep(g.x.sub(r,m),g.x.sub(r)).x.oneMinus(),w.mul(g).add(V.x).smoothstep(r,r.add(m)).x,w.mul(g).add(V.x).smoothstep(g.z.sub(r,m),g.z.sub(r)).z.oneMinus(),w.mul(g).add(V.z).smoothstep(r,r.add(m)).z).clamp(0,1),k=e.mix(e.float(1),e.mx_noise_float(e.mx_noise_float(x.xyz.div(g).add(_).floor().zxy.mul(100).add(Math.PI)).mul(10)).add(2).div(2).pow(4).clamp(0,1),u),C=e.mx_noise_float(x.mul(n(c,0,1,5,250))).mul(p).add(1),z=e.mx_noise_float(e.mx_noise_float(x.xyz.div(g).add(_).floor().zxy.mul(200).add(Math.PI)).mul(10)).add(1).div(1),L=e.mix(d,y,z.pow(2));return e.mix(v,k.mul(L,h),h).mul(C)})).setLayout({name:"bricksRaw",type:"vec3",inputs:[{name:"position",type:"vec3"},{name:"scale",type:"float"},{name:"brickSize",type:"vec3"},{name:"brickShift",type:"float"},{name:"jointSize",type:"float"},{name:"jointSpan",type:"float"},{name:"jointJitter",type:"float"},{name:"jointBlur",type:"float"},{name:"noiseSize",type:"float"},{name:"noiseStrength",type:"float"},{name:"colorShade",type:"float"},{name:"color",type:"vec3"},{name:"additional",type:"vec3"},{name:"background",type:"vec3"},{name:"seed",type:"float"}]});function Co(e={}){var{position:a,scale:o,brickSize:t,brickShift:n,jointSize:s,jointSpan:r,jointJitter:l,jointBlur:i,noiseSize:m,noiseStrength:c,colorShade:p,color:u,additional:d,background:y,seed:v}={...ho,...e};return ko(a,o,t,n,s,r,l,i,m,c,p,u,d,y,v)}Co.defaults=ho,window.__TSL_TEXTURES__=3,Object.defineProperty(exports,"fractal",{enumerable:!0,get:function(){return e.mx_fractal_noise_float}}),Object.defineProperty(exports,"fractal3",{enumerable:!0,get:function(){return e.mx_fractal_noise_vec3}}),Object.defineProperty(exports,"noise",{enumerable:!0,get:function(){return e.mx_noise_float}}),Object.defineProperty(exports,"voronoi",{enumerable:!0,get:function(){return e.mx_worley_noise_float}}),Object.defineProperty(exports,"voronoi2",{enumerable:!0,get:function(){return e.mx_worley_noise_vec2}}),Object.defineProperty(exports,"voronoi3",{enumerable:!0,get:function(){return e.mx_worley_noise_vec3}}),exports.approximateNormal=t,exports.brain=f,exports.bricks=Co,exports.camouflage=b,exports.caustics=Vo,exports.caveArt=V,exports.circleDecor=to,exports.circles=C,exports.clouds=A,exports.concrete=$,exports.cork=W,exports.crumpledFabric=uo,exports.dalmatianSpots=B,exports.darthMaul=j,exports.dysonSphere=J,exports.entangled=Z,exports.fordite=ae,exports.gasGiant=ne,exports.grid=le,exports.hideFallbackWarning=function(){s&&(r>0?r--:(s.style.display="none",s=null))},exports.hsl=i,exports.isolayers=fo,exports.isolines=ce,exports.karstRock=de,exports.marble=fe,exports.neonLights=be,exports.perlinNoise=Ve,exports.photosphere=Ce,exports.planet=Fe,exports.polkaDots=Ge,exports.processedWood=Pe,exports.protozoa=Ee,exports.remapExp=n,exports.reticularVeins=ro,exports.romanPaving=mo,exports.rotatePivot=p,exports.rotator=De,exports.roughClay=He,exports.runnyEggs=ea,exports.rust=sa,exports.satin=ia,exports.scaler=da,exports.scepterHead=fa,exports.scream=ba,exports.selectPlanar=u,exports.showFallbackWarning=async function(){if(null!=navigator.gpu&&await navigator.gpu.requestAdapter())return;(s=document.createElement("div")).innerHTML='\n\t<div style="font-size:1.25em; font-weight:bold;">PLEASE, WAIT</div>\n\t<div  style="font-size:0.85em; font-weight:100;" >NO WEBGPU &mdash; TRYING WEBGL2</div>\n\t<div id="counter"></div>\n\t',s.style.left="calc(50% - 8em)",s.style.width="16em",s.style.fontFamily="Bahnschrifts, Arial",s.style.position="absolute",s.style.bottom="20px",s.style.padding="12px 6px",s.style.border="1px solid white",s.style.borderRadius="4px",s.style.background="rgba(0,0,0,0.5)",s.style.color="white",s.style.textAlign="center",s.style.opacity="0.8",s.style.outline="none",s.style.zIndex="999",document.body.appendChild(s)},exports.spherical=c,exports.stars=Va,exports.staticNoise=Ca,exports.supersphere=Aa,exports.tigerFur=Sa,exports.toHsl=m,exports.translator=Ta,exports.turbulentSmoke=bo,exports.vnoise=o,exports.voronoiCells=qa,exports.waterDrops=Ua,exports.watermelon=Ha,exports.wood=Xa,exports.zebraLines=eo;
